import{_ as n,y as s,x as a,W as p}from"./plugin-vue_export-helper.abe1cdd2.js";var t="/v3shop/assets/1610616714960.fa129027.png",e="/v3shop/assets/1610540938844.88f400af.png",o="/v3shop/assets/1610540980190.bcada498.png",c="/v3shop/assets/1610616258166.98e0e58d.png",l="/v3shop/assets/1613812180451.f001c3c8.png",u="/v3shop/assets/1616897574344.8c82e561.png",r="/v3shop/assets/1613878134510.53336baa.png",i="/v3shop/assets/1614068663196.457e7b2a.png",k="/v3shop/assets/1613887164658.c22a6bf2.png",b="/v3shop/assets/1616919264380.5322b9ee.png",m="/v3shop/assets/1617152493736.dfb2e13b.png",g="/v3shop/assets/1620294323632.ba4cbd5d.png",d="/v3shop/assets/1614068683436.0d9da2c4.png",v="/v3shop/assets/1614068706805.e13430f8.png",q="/v3shop/assets/1614068786756.c896a574.png",f="/v3shop/assets/1614068763230.931fae7a.png",y="/v3shop/assets/1614069259289.b71f4cec.png",h="/v3shop/assets/1614132765458.a4d35fe7.png",x="/v3shop/assets/1614241264668.2490c45d.png",w="/v3shop/assets/1614241295071.9978c5b1.png",A="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA9UAAABPCAYAAADlX+anAAAKG0lEQVR4nO3dT2ic950H4M8EewUyKxlcJ7AL7YotvoQKE17qxe4GaloELtgXw+5BCV1FZ0k3XyofrL3kJutsi8XxYQu9SLAG0+JLK5MsQzACQzG7OFnwQpwIYrESKA6ZPYykKKrcel7Pn1fS89xmmHnf7/vTzKv38/7+TG1tba2RNunv72/XpgAAAKBt1tfX27q9rfz7Wlu3CgAAAIeIUA0AAAAlCdUAAABQklANAAAAJQnVAAAAUJJQDQAAACUJ1QAAAFCSUA0AAAAlCdUAAABQklANAAAAJQnVAAAAUJJQDQAAACUJ1QAAAFCSUA0AAAAlCdUAAABQklANAAAAJQnVAAAAUJJQDQAAACUJ1QAAAFCSUA0AAAAlCdUAAABQklANAAAAJQnVAAAAUJJQDQAAACUJ1QAAAFCSUA0AAAAlCdUAAABQklANAAAAJR3pdQEAe3n+/HlWV1ezsbGRRqPR63I6qlarpa+vLwMDAzl69GhPa+lGu7/K8Va9voerX+T9Rx/l4y8/y9eNbzpSX5Icqb2Wt46/kSunzuTNge+19N6qt2HV62s35zqA/a+2trbWtjN4f39/uzYFHGLPnz/P559/nsHBwfT396dWq/W6pI5qNBpZX1/Ps2fPcvLkyZ5dbHar3cseb9Xre7j6Rf7pPxc7GqZ3O1J7Lb/+8cWXDtZVb8Oq19duznWCNdBd6+vrbd3eVv41/BuonNXV1QwODubYsWMH/iIzafbeHDt2LIODg1ldXe1ZHd1q97LHW/X63n/0UVcDdZJ83fgm7z/66KVfX/U2rHp97eZcB3AwCNVA5WxsbBzKkS/9/f3Z2Njo2f673e6tHm/V6/v4y886WE179lv1Nqx6fe3mXAdwMAjVQOU0Go1D0WuzW61W6+mcym63e6vHW/X6ut1LXWa/VW/DqtfXbs51AAeDUA0AAAAlCdUAAABQklANAAAAJQnVAAAAUJJQDQAAACUd6XUBAO22sjiZkd+dz925SznR5m0vzxUZu9Xae0Zv1DN1us2FVMJKFiZGMnN/8+G786lPDPe0ohdbzmwxltuVqvFH+befnsk/fOc/8Vf58NGt/PLTXtW0hwezKcZvbz+syuf5z30Xq1JjW+36O7yc0czXp1LqE/90IZMXZrLUynvOTnfkvAtQdUI1QAuGJ+qpT+x+djmzxc0M3bmeS6/3oqreWFn8IPlVPfXXk63QOvl3d3P9YvUuqVcWb6bVONIt//2/N/KLh72u4gUezKYYT+br9XLBrIP2+i5u3VB756AF6iQ5PZV6fWrXk83vXTpxE+H1S7lev/QnT68sTmbkk/cqdHMKoPcM/wZ4VQ/u5fbZ8/nJIQrUSXLi4tSOmwjDOf9usvTJk16WtLenC7l2LTl3tteF7DfLmR1/nOk7JXs6u245H1xbyuiYntLOWckffreU0bf3xycCoFv0VAO06gXDIkeKmV3PvMLQyxbqGNrspVqeKzL2X83hl1mczMi1oc7uf19YycK/ziRX7+a9T0ZaG8raccdzssr/hTdvFt3dJzeLVhZv5vbZ6dztaC91s2f48dXmiIyVnd+zXd/Hg2LPYfb3iz8Z+XHuajVHqQB0Q5X/nQOUd39mj5Dbzgu/vxCYny5k8sLjNuxnn3i6kJu3zmX6TrUi/MritcxkOncvnsiTuV5Xs5ev8vn/9bqGva38z+Pkh+fzZK7IyFaoquyc2c1e6hvXK1hb5z2en0xxP5nu0BSUv3TeXJ4rcrP9uwXYN4Rq4GDq8sX/8lyRm92eT7xrzuPwRD31rQcXr6d+sdMFbC7+laR5k+F6tXrFH8xm5Foyfaf5OajcwPQf/HVO5q/y96fG88dTzaeqNL/6ySdLya2l3LuxNXe5+fcemRuq3Hza7vRSJ8lwpurb37Kc2Pk9e8Ec5K742dXUxz5IcaHITKcX49u8YfjeoR8FA/AtoRo4hHaGwRZUauXoKmgGjObSScuZLYqMVaaNljM7fjujN+rVXTzu0zv58c5Vvt+8nD/+zXj+I9UJ1nl3fsdQ5uFM3RjN7fF7WZ4YrlCgas7zPfezq4eylzpJhr5/YnMhs3eyMDGSoji33WvdHKLe6sSHcx3r9QY4iIRq4BDaGQbbZ+j7h/WSPkmGM3VnOo8v3MzCP/f+Ynx7te/x3XM/x1LcquhPLj38TX4zOJ7Lg/+Y5Pe9rmb/ePqH3Lt/Lud/dZi/f1tO5NJcPZcezKa4MJuh+lSGOzFq5exQ/rbNmwTYz4RqgFf1dCE3byVDb/e6kCoYylAFerdO7BEklueKjKUqPenVN/z2aDL/OCsZrnQP8MqH97J09nyuVuBzVxmnp7JjlHpbLf/7TJYy3ZmNA+xTflILoFWvX8r17fmEy5m9MJNcnc/QfJGiKFLMLe96zUG0nNmJhaxsP26usr307vkDfMxt9oMf5V92Pn7zci4f+yofPqlIL/Xp8xm9P5Nri1t/5eaQ+nNX36nQ33hr6PdPKh3897Phifr2WhEri5MZuzWa+bHHGSmKFMVkFp5+9zUAh5GeaoBSvp2XPXqjnuunk1ys51KaF55FsVThlZLbYThTY/dSFMW3T1VmPvU+8enxXP75eK5sP/FVPnx0K7/89M+8p6uGM1Wfz2wxkuJa85nq/WzSkzy+nwyNVammg2d7XvbZ6dytN89p9fpUttZSKFLRKRUAXSJUA/vanr+hmiRZ2vMntZJXCQYrWZgYycz9pLna9d7zsreHHj+YTVFMHtwFf05PbV5Y7w/fWR29En6fX/y2Ir3SL9SZ9Qfa57urcdNGD2ZTjDdXJDh39W7q9b3OmVufj5UsTBQpfujGGnA4CdXAvjY8sfVzP92wuQjQy768g/MaATp6U6Glm2YtnhsBDhhzqgEAAKAkoRoAAABKEqoBAACgJKEaAAAAShKqgcqp1WppNBq9LqPrGo1GarVaz/bf7XZv9XirXt+RWm/+pbay36q3YdXrazfnOoCDQagGKqevry/r6+u9LqPr1tfX09fX17P9d7vdWz3eqtf31vE3OlhNe/Zb9Tasen3t5lwHcDAI1UDlDAwM5NmzZ1lbWzsUvTiNRiNra2t59uxZBgYGelZHt9q97PFWvb4rp850vbf6SO21XDl15qVfX/U2rHp97eZcB3Aw1NbW1tp2Fu/v72/XpoBD7vnz51ldXc3GxsaBv9is1Wrp6+vLwMBAjh492tNautHur3K8Va/v4eoXef/RR/n4y8/ydeObjtSXNMP0W8ffyJVTZ/LmwPdaem/V27Dq9bWbcx1A97R7dNBW/hWqAQAAOPA6FaoN/wYAAICShGoAAAAoSagGAACAkoRqAAAAKEmoBgAAgJKEagAAAChJqAYAAICShGoAAAAoSagGAACAkoRqAAAAKEmoBgAAgJKEagAAAChJqAYAAICShGoAAAAoSagGAACAkoRqAAAAKEmoBgAAgJKEagAAACjp/wExpXmuDgnd0gAAAABJRU5ErkJggg==",C="/v3shop/assets/1614245759420.5975ed89.png";const D='{"title":"\u5546\u54C1\u8BE6\u60C5","description":"","frontmatter":{},"headers":[{"level":2,"title":"01-\u5546\u54C1\u8BE6\u60C5-\u57FA\u7840\u5E03\u5C40","slug":"_01-\u5546\u54C1\u8BE6\u60C5-\u57FA\u7840\u5E03\u5C40"},{"level":2,"title":"02-\u5546\u54C1\u8BE6\u60C5-\u6E32\u67D3\u9762\u5305\u5C51","slug":"_02-\u5546\u54C1\u8BE6\u60C5-\u6E32\u67D3\u9762\u5305\u5C51"},{"level":2,"title":"03-\u5546\u54C1\u8BE6\u60C5-\u56FE\u7247\u9884\u89C8\u7EC4\u4EF6","slug":"_03-\u5546\u54C1\u8BE6\u60C5-\u56FE\u7247\u9884\u89C8\u7EC4\u4EF6"},{"level":2,"title":"04-\u5546\u54C1\u8BE6\u60C5-\u56FE\u7247\u653E\u5927\u955C","slug":"_04-\u5546\u54C1\u8BE6\u60C5-\u56FE\u7247\u653E\u5927\u955C"},{"level":2,"title":"05-\u5546\u54C1\u8BE6\u60C5-\u57FA\u672C\u4FE1\u606F\u5C55\u793A","slug":"_05-\u5546\u54C1\u8BE6\u60C5-\u57FA\u672C\u4FE1\u606F\u5C55\u793A"},{"level":2,"title":"06-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u57FA\u7840\u5E03\u5C40","slug":"_06-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u57FA\u7840\u5E03\u5C40"},{"level":2,"title":"06-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u83B7\u53D6\u6570\u636E","slug":"_06-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u83B7\u53D6\u6570\u636E"},{"level":2,"title":"07-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u4EA4\u4E92\u903B\u8F91","slug":"_07-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u4EA4\u4E92\u903B\u8F91"},{"level":2,"title":"07-\u2605 \u89C4\u683C\u7EC4\u4EF6-SKU&SPU \u6982\u5FF5","slug":"_07-\u2605-\u89C4\u683C\u7EC4\u4EF6-sku-spu-\u6982\u5FF5"},{"level":2,"title":"08-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u57FA\u7840\u7ED3\u6784\u548C\u6837\u5F0F","slug":"_08-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u57FA\u7840\u7ED3\u6784\u548C\u6837\u5F0F"},{"level":2,"title":"09-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u6E32\u67D3\u4E0E\u9009\u4E2D\u6548\u679C","slug":"_09-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u6E32\u67D3\u4E0E\u9009\u4E2D\u6548\u679C"},{"level":2,"title":"10-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u601D\u8DEF\u5206\u6790","slug":"_10-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u601D\u8DEF\u5206\u6790"},{"level":2,"title":"11-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u8DEF\u5F84\u5B57\u5178","slug":"_11-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u8DEF\u5F84\u5B57\u5178"},{"level":2,"title":"12-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u8BBE\u7F6E\u72B6\u6001","slug":"_12-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u8BBE\u7F6E\u72B6\u6001"},{"level":2,"title":"13-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u6570\u636E\u901A\u8BAF","slug":"_13-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u6570\u636E\u901A\u8BAF"},{"level":2,"title":"14-\u5546\u54C1\u8BE6\u60C5-\u6570\u91CF\u9009\u62E9\u7EC4\u4EF6","slug":"_14-\u5546\u54C1\u8BE6\u60C5-\u6570\u91CF\u9009\u62E9\u7EC4\u4EF6"},{"level":2,"title":"15-\u5546\u54C1\u8BE6\u60C5-\u6309\u94AE\u7EC4\u4EF6","slug":"_15-\u5546\u54C1\u8BE6\u60C5-\u6309\u94AE\u7EC4\u4EF6"},{"level":2,"title":"16-\u5546\u54C1\u8BE6\u60C5-\u540C\u7C7B\u63A8\u8350\u7EC4\u4EF6","slug":"_16-\u5546\u54C1\u8BE6\u60C5-\u540C\u7C7B\u63A8\u8350\u7EC4\u4EF6"},{"level":2,"title":"17-\u5546\u54C1\u8BE6\u60C5-\u6807\u7B7E\u9875\u7EC4\u4EF6","slug":"_17-\u5546\u54C1\u8BE6\u60C5-\u6807\u7B7E\u9875\u7EC4\u4EF6"},{"level":2,"title":"18-\u5546\u54C1\u8BE6\u60C5-\u70ED\u699C\u7EC4\u4EF6","slug":"_18-\u5546\u54C1\u8BE6\u60C5-\u70ED\u699C\u7EC4\u4EF6"},{"level":2,"title":"19-\u5546\u54C1\u8BE6\u60C5-\u8BE6\u60C5\u7EC4\u4EF6","slug":"_19-\u5546\u54C1\u8BE6\u60C5-\u8BE6\u60C5\u7EC4\u4EF6"},{"level":2,"title":"20-\u5546\u54C1\u8BE6\u60C5-\u6CE8\u610F\u4E8B\u9879\u7EC4\u4EF6","slug":"_20-\u5546\u54C1\u8BE6\u60C5-\u6CE8\u610F\u4E8B\u9879\u7EC4\u4EF6"},{"level":2,"title":"21-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u5934\u90E8\u6E32\u67D3","slug":"_21-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u5934\u90E8\u6E32\u67D3"},{"level":2,"title":"22-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u5B9E\u73B0\u5217\u8868","slug":"_22-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u5B9E\u73B0\u5217\u8868"},{"level":2,"title":"23-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u56FE\u7247\u9884\u89C8","slug":"_23-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u56FE\u7247\u9884\u89C8"},{"level":2,"title":"24-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u2605 \u5206\u9875\u7EC4\u4EF6","slug":"_24-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u2605-\u5206\u9875\u7EC4\u4EF6"}],"relativePath":"v3shop/mds/5.detail.md","lastUpdated":1652532113667}',P={},j=p('<h1 id="\u5546\u54C1\u8BE6\u60C5" tabindex="-1">\u5546\u54C1\u8BE6\u60C5 <a class="header-anchor" href="#\u5546\u54C1\u8BE6\u60C5" aria-hidden="true">#</a></h1><h2 id="_01-\u5546\u54C1\u8BE6\u60C5-\u57FA\u7840\u5E03\u5C40" tabindex="-1">01-\u5546\u54C1\u8BE6\u60C5-\u57FA\u7840\u5E03\u5C40 <a class="header-anchor" href="#_01-\u5546\u54C1\u8BE6\u60C5-\u57FA\u7840\u5E03\u5C40" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5B8C\u6210\u5546\u54C1\u8BE6\u60C5\u57FA\u7840\u5E03\u5C40\uFF0C\u8DEF\u7531\u914D\u7F6E\uFF0C\u642D\u597D\u9875\u9762\u67B6\u5B50\u3002</p></blockquote><p><img src="'+t+`" alt="1610616714960"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u51C6\u5907\u7EC4\u4EF6\u7ED3\u6784\u5BB9\u5668</li><li>\u63D0\u53D6\u5546\u54C1\u63A8\u8350\u7EC4\u4EF6\u4E14\u4F7F\u7528</li><li>\u914D\u7F6E\u8DEF\u7531\u548C\u7EC4\u4EF6</li></ul><p>\u843D\u5730\u4EE3\u7801\uFF1A</p><ul><li>\u9875\u9762\u7EC4\u4EF6\uFF1A<code>src/views/goods/index.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-goods-page<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- \u9762\u5305\u5C51 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBread</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBreadItem</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u9996\u9875<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBreadItem</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u624B\u673A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBreadItem</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u534E\u4E3A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBreadItem</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>p30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBread</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- \u5546\u54C1\u4FE1\u606F --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- \u5546\u54C1\u63A8\u8350 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoodsRelevant</span> <span class="token punctuation">/&gt;</span></span>
      <span class="token comment">&lt;!-- \u5546\u54C1\u8BE6\u60C5 --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-article<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!-- \u5546\u54C1+\u8BC4\u4EF7 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-tabs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token comment">&lt;!-- \u6CE8\u610F\u4E8B\u9879 --&gt;</span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-warn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- 24\u70ED\u699C+\u4E13\u9898\u63A8\u8350 --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-aside<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> GoodsRelevant <span class="token keyword">from</span> <span class="token string">&#39;./components/goods-relevant&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;XtxGoodsPage&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">,</span> GoodsRelevant <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.goods-info</span> <span class="token punctuation">{</span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.goods-footer</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token selector">.goods-article</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 940px<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.goods-aside</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
    <span class="token property">min-height</span><span class="token punctuation">:</span> 1000px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.goods-tabs</span> <span class="token punctuation">{</span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.goods-warn</span> <span class="token punctuation">{</span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><ul><li>\u5546\u54C1\u63A8\u8350\u7EC4\u4EF6\uFF1A<code>src/views/goods/components/goods-relevant.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-relevant<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsRelevant&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.goods-relevant</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> 460px<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>\u8DEF\u7531\u914D\u7F6E\uFF1A<code>src/router/index.js</code></li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">const</span> <span class="token function-variable function">Goods</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;@/views/goods/index&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   children: [
</span><span class="token prefix unchanged"> </span><span class="token line">     { path: &#39;/&#39;, component: Home },
</span><span class="token prefix unchanged"> </span><span class="token line">     { path: &#39;/category/:id&#39;, component: TopCategory },
</span><span class="token prefix unchanged"> </span><span class="token line">     { path: &#39;/category/sub/:id&#39;, component: SubCategory },
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      { path: &#39;/product/:id&#39;, component: Goods }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   ]
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_02-\u5546\u54C1\u8BE6\u60C5-\u6E32\u67D3\u9762\u5305\u5C51" tabindex="-1">02-\u5546\u54C1\u8BE6\u60C5-\u6E32\u67D3\u9762\u5305\u5C51 <a class="header-anchor" href="#_02-\u5546\u54C1\u8BE6\u60C5-\u6E32\u67D3\u9762\u5305\u5C51" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u83B7\u53D6\u6570\u636E\uFF0C\u6E32\u67D3\u9762\u5305\u5C51\u3002</p></blockquote><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u5B9A\u4E49\u83B7\u53D6\u5546\u54C1\u8BE6\u60C5 API \u51FD\u6570</li><li>\u5728\u7EC4\u4EF6 setup \u4E2D\u83B7\u53D6\u5546\u54C1\u8BE6\u60C5\u6570\u636E</li><li>\u5B9A\u4E49\u4E00\u4E2A useXxx \u51FD\u6570\u5904\u7406\u6570\u636E</li></ul><p>\u843D\u5730\u4EE3\u7801\uFF1A</p><ul><li>API \u51FD\u6570 <code>src/api/product.js</code></li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">&quot;@/utils/request&quot;</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * \u83B7\u53D6\u5546\u54C1\u8BE6\u60C5
 * @param {String} id - \u5546\u54C1ID
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">findGoods</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">&quot;/goods&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>useGoods \u51FD\u6570 <code>src/views/goods/index.vue</code> \u5728 setup \u4E2D\u4F7F\u7528</li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> GoodsRelevant <span class="token keyword">from</span> <span class="token string">&quot;./components/goods-relevant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> nextTick<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> findGoods <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/api/product&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useRoute <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;XtxGoodsPage&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> GoodsRelevant <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> goods <span class="token operator">=</span> <span class="token function">useGoods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> goods <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// \u83B7\u53D6\u5546\u54C1\u8BE6\u60C5</span>
<span class="token keyword">const</span> <span class="token function-variable function">useGoods</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u51FA\u73B0\u8DEF\u7531\u5730\u5740\u5546\u54C1ID\u53D1\u751F\u53D8\u5316\uFF0C\u4F46\u662F\u4E0D\u4F1A\u91CD\u65B0\u521D\u59CB\u5316\u7EC4\u4EF6</span>
  <span class="token keyword">const</span> goods <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> route <span class="token operator">=</span> <span class="token function">useRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">watch</span><span class="token punctuation">(</span>
    <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">,</span>
    <span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">&amp;&amp;</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/product/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>newVal<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span> <span class="token operator">===</span> route<span class="token punctuation">.</span>path<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">findGoods</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u8BA9\u5546\u54C1\u6570\u636E\u4E3Anull\u8BA9\u540E\u4F7F\u7528v-if\u7684\u7EC4\u4EF6\u53EF\u4EE5\u91CD\u65B0\u9500\u6BC1\u548C\u521B\u5EFA</span>
          goods<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
          <span class="token function">nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            goods<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> goods<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><ul><li>\u9632\u6B62\u62A5\u9519\uFF0C\u52A0\u8F7D\u5B8C\u6210 goods \u518D\u663E\u793A\u6240\u6709\u5185\u5BB9</li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&#39;</span>xtx-goods-page<span class="token punctuation">&#39;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>\u6E32\u67D3\u9762\u5305\u5C51</li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token comment">&lt;!-- \u9762\u5305\u5C51 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBread</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBreadItem</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u9996\u9875<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBreadItem</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>/category/<span class="token punctuation">&#39;</span>+goods.categories[0].id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{goods.categories[0].name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBreadItem</span> <span class="token attr-name">:to</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>/category/sub/<span class="token punctuation">&#39;</span>+goods.categories[1].id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{goods.categories[1].name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>{{goods.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBreadItem</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>XtxBread</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_03-\u5546\u54C1\u8BE6\u60C5-\u56FE\u7247\u9884\u89C8\u7EC4\u4EF6" tabindex="-1">03-\u5546\u54C1\u8BE6\u60C5-\u56FE\u7247\u9884\u89C8\u7EC4\u4EF6 <a class="header-anchor" href="#_03-\u5546\u54C1\u8BE6\u60C5-\u56FE\u7247\u9884\u89C8\u7EC4\u4EF6" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5B8C\u6210\u5546\u54C1\u56FE\u7247\u9884\u89C8\u529F\u80FD\u548C\u5207\u6362</p></blockquote><p><img src="`+e+`" alt="1610540938844"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u9996\u5148\u51C6\u5907\u5546\u54C1\u4FE1\u606F\u533A\u5757\u5DE6\u53F3\u4E24\u4FA7\u7684\u5E03\u5C40\u76D2\u5B50</li><li>\u5728\u5B9A\u4E49\u4E00\u4E2A\u5546\u54C1\u56FE\u7247\u7EC4\u4EF6\uFF0C\u7528\u6765\u5B9E\u73B0\u56FE\u7247\u9884\u89C8 <ul><li>\u9996\u5148\u7EC4\u4EF6\u5E03\u5C40\uFF0C\u6E32\u67D3</li><li>\u5B9E\u73B0\u5207\u6362\u56FE\u7247</li></ul></li></ul><p>\u843D\u5730\u4EE3\u7801\uFF1A</p><ul><li>\u5546\u54C1\u4FE1\u606F\u533A\u5757\uFF0C\u5E03\u5C40\u76D2\u5B50 <code>src/views/goods/index.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code>      <span class="token comment">&lt;!-- \u5546\u54C1\u4FE1\u606F --&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>media<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>spec<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-less line-numbers-mode"><pre><code><span class="token selector">.goods-info</span> <span class="token punctuation">{</span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token selector">.media</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 580px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 30px 50px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.spec</span> <span class="token punctuation">{</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 30px 30px 30px 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>\u5546\u54C1\u56FE\u7247\u7EC4\u4EF6\uFF0C\u6E32\u67D3\u548C\u5207\u6362</li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-image<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>middle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images[currIndex]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>small<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span>
        <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(img, i) in images<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: i === currIndex }<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">@mouseenter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currIndex = i<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsImage&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">images</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> currIndex <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> currIndex <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.goods-image</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 480px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token selector">.middle</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.small</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
    <span class="token selector">li</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 68px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 68px<span class="token punctuation">;</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
      <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
      <span class="token selector">&amp;:hover,
      &amp;.active</span> <span class="token punctuation">{</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 2px solid <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><h2 id="_04-\u5546\u54C1\u8BE6\u60C5-\u56FE\u7247\u653E\u5927\u955C" tabindex="-1">04-\u5546\u54C1\u8BE6\u60C5-\u56FE\u7247\u653E\u5927\u955C <a class="header-anchor" href="#_04-\u5546\u54C1\u8BE6\u60C5-\u56FE\u7247\u653E\u5927\u955C" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5B9E\u73B0\u56FE\u7247\u653E\u5927\u955C\u529F\u80FD</p></blockquote><p><img src="`+o+`" alt="1610540980190"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u9996\u5148\u51C6\u5907\u5927\u56FE\u5BB9\u5668\u548C\u906E\u7F69\u5BB9\u5668</li><li>\u7136\u540E\u4F7F\u7528<code>@vueuse/core</code>\u7684<code>useMouseInElement</code>\u65B9\u6CD5\u83B7\u53D6\u57FA\u4E8E\u5143\u7D20\u7684\u504F\u79FB\u91CF</li><li>\u8BA1\u7B97\u51FA \u906E\u7F69\u5BB9\u5668\u5B9A\u4F4D\u4E0E\u5927\u5BB9\u5668\u5317\u4EAC\u5B9A\u4F4D \u66B4\u9732\u51FA\u6570\u636E\u7ED9\u6A21\u677F\u4F7F\u7528</li></ul><p>\u843D\u5730\u4EE3\u7801\uFF1A<code>src/views/goods/components/goods-image.vue</code></p><ul><li>\u51C6\u5907\u5927\u56FE\u5BB9\u5668</li></ul><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;div class=&#39;goods-image&#39;&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    &lt;div class=&quot;large&quot; :style=&quot;[{backgroundImage:\`url(\${images[currIndex]})\`}]&quot;&gt;&lt;/div&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;div class=&quot;middle&quot;&gt;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code>.goods-image {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> width: 480px;
</span><span class="token prefix unchanged"> </span><span class="token line"> height: 400px;
</span><span class="token prefix unchanged"> </span><span class="token line"> position: relative;
</span><span class="token prefix unchanged"> </span><span class="token line"> display: flex;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  z-index: 500;
</span><span class="token prefix inserted">+</span><span class="token line">  .large {
</span><span class="token prefix inserted">+</span><span class="token line">    position: absolute;
</span><span class="token prefix inserted">+</span><span class="token line">    top: 0;
</span><span class="token prefix inserted">+</span><span class="token line">    left: 412px;
</span><span class="token prefix inserted">+</span><span class="token line">    width: 400px;
</span><span class="token prefix inserted">+</span><span class="token line">    height: 400px;
</span><span class="token prefix inserted">+</span><span class="token line">    box-shadow: 0 0 10px rgba(0,0,0,0.1);
</span><span class="token prefix inserted">+</span><span class="token line">    background-repeat: no-repeat;
</span><span class="token prefix inserted">+</span><span class="token line">    background-size: 800px 800px;
</span><span class="token prefix inserted">+</span><span class="token line">    background-color: #f8f8f8;
</span><span class="token prefix inserted">+</span><span class="token line">  }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><ul><li>\u51C6\u5907\u5F85\u79FB\u52A8\u7684\u906E\u7F69\u5BB9\u5668</li></ul><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;div class=&quot;middle&quot; ref=&quot;target&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;img :src=&quot;images[currIndex]&quot; alt=&quot;&quot;&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      &lt;div class=&quot;layer&quot;&gt;&lt;/div&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;/div&gt;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> .middle {
</span><span class="token prefix unchanged"> </span><span class="token line">   width: 400px;
</span><span class="token prefix unchanged"> </span><span class="token line">   height: 400px;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    position: relative;
</span><span class="token prefix inserted">+</span><span class="token line">    cursor: move;
</span><span class="token prefix inserted">+</span><span class="token line">    .layer {
</span><span class="token prefix inserted">+</span><span class="token line">      width: 200px;
</span><span class="token prefix inserted">+</span><span class="token line">      height: 200px;
</span><span class="token prefix inserted">+</span><span class="token line">      background: rgba(0,0,0,.2);
</span><span class="token prefix inserted">+</span><span class="token line">      left: 0;
</span><span class="token prefix inserted">+</span><span class="token line">      top: 0;
</span><span class="token prefix inserted">+</span><span class="token line">      position: absolute;
</span><span class="token prefix inserted">+</span><span class="token line">    }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><ul><li>\u4F7F\u7528 vueuse \u63D0\u4F9B\u7684 API \u83B7\u53D6\u9F20\u6807\u504F\u79FB\u91CF</li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> reactive<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useMouseInElement <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@vueuse/core&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">const</span> <span class="token function-variable function">usePreviewImg</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> show <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// elementX \u9F20\u6807\u57FA\u4E8E\u5BB9\u5668\u5DE6\u4E0A\u89D2X\u8F74\u504F\u79FB</span>
  <span class="token comment">// elementY \u9F20\u6807\u57FA\u4E8E\u5BB9\u5668\u5DE6\u4E0A\u89D2Y\u8F74\u504F\u79FB</span>
  <span class="token comment">// isOutside \u9F20\u6807\u662F\u5426\u5728\u6A21\u677F\u5BB9\u5668\u5916</span>
  <span class="token keyword">const</span> <span class="token punctuation">{</span> elementX<span class="token punctuation">,</span> elementY<span class="token punctuation">,</span> isOutside <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useMouseInElement</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> position <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> bgPosition <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">backgroundPositionX</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
    <span class="token literal-property property">backgroundPositionY</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>elementX<span class="token punctuation">,</span> elementY<span class="token punctuation">,</span> isOutside<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u63A7\u5236X\u8F74\u65B9\u5411\u7684\u5B9A\u4F4D 0-200 \u4E4B\u95F4</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>elementX<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span> position<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>elementX<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> <span class="token number">300</span><span class="token punctuation">)</span> position<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> position<span class="token punctuation">.</span>left <span class="token operator">=</span> elementX<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token comment">// \u63A7\u5236Y\u8F74\u65B9\u5411\u7684\u5B9A\u4F4D 0-200 \u4E4B\u95F4</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>elementY<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">)</span> position<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>elementY<span class="token punctuation">.</span>value <span class="token operator">&gt;</span> <span class="token number">300</span><span class="token punctuation">)</span> position<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
    <span class="token keyword">else</span> position<span class="token punctuation">.</span>top <span class="token operator">=</span> elementY<span class="token punctuation">.</span>value <span class="token operator">-</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token comment">// \u8BBE\u7F6E\u5927\u80CC\u666F\u7684\u5B9A\u4F4D</span>
    bgPosition<span class="token punctuation">.</span>backgroundPositionX <span class="token operator">=</span> <span class="token operator">-</span>position<span class="token punctuation">.</span>left <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    bgPosition<span class="token punctuation">.</span>backgroundPositionY <span class="token operator">=</span> <span class="token operator">-</span>position<span class="token punctuation">.</span>top <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// \u8BBE\u7F6E\u906E\u7F69\u5BB9\u5668\u7684\u5B9A\u4F4D</span>
    position<span class="token punctuation">.</span>left <span class="token operator">=</span> position<span class="token punctuation">.</span>left <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    position<span class="token punctuation">.</span>top <span class="token operator">=</span> position<span class="token punctuation">.</span>top <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// \u8BBE\u7F6E\u662F\u5426\u663E\u793A\u9884\u89C8\u5927\u56FE</span>
    show<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token operator">!</span>isOutside<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span> position<span class="token punctuation">,</span> bgPosition<span class="token punctuation">,</span> show<span class="token punctuation">,</span> target <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><ul><li>\u5728 setup \u4E2D\u8FD4\u56DE\u6A21\u677F\u9700\u8981\u6570\u636E\uFF0C\u5E76\u4F7F\u7528\u5B83</li></ul><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> setup () {
</span><span class="token prefix unchanged"> </span><span class="token line">   const { currIndex, toggleImg } = useToggleImg()
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    const { position, bgPosition, show, target } = usePreviewImg()
</span><span class="token prefix inserted">+</span><span class="token line">    return { currIndex, toggleImg, position, bgPosition, show, target }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-vue line-numbers-mode"><pre><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>large<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[{backgroundImage:\`url(\${images[currIndex]})\`},bgPosition]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>middle<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>images[currIndex]<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>layer<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>show<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>position<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_05-\u5546\u54C1\u8BE6\u60C5-\u57FA\u672C\u4FE1\u606F\u5C55\u793A" tabindex="-1">05-\u5546\u54C1\u8BE6\u60C5-\u57FA\u672C\u4FE1\u606F\u5C55\u793A <a class="header-anchor" href="#_05-\u5546\u54C1\u8BE6\u60C5-\u57FA\u672C\u4FE1\u606F\u5C55\u793A" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5C55\u793A\u5546\u54C1\u57FA\u672C\u4FE1\u606F</p></blockquote><p><img src="`+c+`" alt="1610616258166"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u5546\u54C1\u9500\u552E\u5C5E\u6027\u7EC4\u4EF6</li><li>\u5546\u54C1\u540D\u79F0\u4FE1\u606F\u7EC4\u4EF6</li></ul><p>\u843D\u5730\u4EE3\u7801\uFF1A</p><ul><li>\u2474 \u57FA\u7840\u5E03\u5C40\uFF1A</li></ul><p>\u7EA2\u8272\u533A\u57DF 1 <code>src/views/goods/components/goods-sales.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-sales<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u9500\u91CF\u4EBA\u6C14<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>200+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-task-filling<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>\u9500\u91CF\u4EBA\u6C14<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u5546\u54C1\u8BC4\u4EF7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>400+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-comment-filling<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>\u67E5\u770B\u8BC4\u4EF7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u6536\u85CF\u4EBA\u6C14<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>600+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-favorite-filling<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>\u6536\u85CF\u5546\u54C1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u54C1\u724C\u4FE1\u606F<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u82CF\u5B81\u7535\u5668<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-dynamic-filling<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>\u54C1\u724C\u4E3B\u9875<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsSales&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.goods-sales</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 140px<span class="token punctuation">;</span>
  <span class="token selector">li</span> <span class="token punctuation">{</span>
    <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token selector">~ li::after</span> <span class="token punctuation">{</span>
      <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
      <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
      <span class="token property">border-left</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
      <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">p</span> <span class="token punctuation">{</span>
      <span class="token selector">&amp;:first-child</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&amp;:nth-child(2)</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@priceColor</span><span class="token punctuation">;</span></span>
        <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&amp;:last-child</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
        <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token selector">i</span> <span class="token punctuation">{</span>
          <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
          <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
          <span class="token property">margin-right</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
          <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
          <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div><p>\u7EA2\u8272\u533A\u57DF 2 <code>src/views/goods/components/goods-name.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>g-name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>2\u4EF6\u88C5 \u7C89\u91C9\u82B1\u74E3\u5FC3\u610F\u70B9\u7F00 \u70B9\u5FC3\u76D8*2 \u789F\u5B50\u76D8\u5B50<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>g-desc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u82B1\u74E3\u9020\u578B\u5E72\u51C0\u7B80\u7EA6 \u591A\u529F\u80FD\u4F7F\u7528\u5806\u53E0\u65B9\u4FBF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>g-price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>108.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>199.00<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>g-service<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>\u4FC3\u9500<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>12\u6708\u597D\u7269\u653E\u9001\uFF0CApp\u9886\u5238\u8D2D\u4E70\u76F4\u964D120\u5143<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>\u914D\u9001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>\u81F3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>\u670D\u52A1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u65E0\u5FE7\u9000\u8D27<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u5FEB\u901F\u9000\u6B3E<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u514D\u8D39\u5305\u90AE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4E86\u89E3\u8BE6\u60C5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodName&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.g-name</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 22px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.g-desc</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.g-price</span> <span class="token punctuation">{</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token selector">span</span> <span class="token punctuation">{</span>
    <span class="token selector">&amp;::before</span> <span class="token punctuation">{</span>
      <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;\xA5&quot;</span><span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;:first-child</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@priceColor</span><span class="token punctuation">;</span></span>
      <span class="token property">margin-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 22px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;:last-child</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
      <span class="token property">text-decoration</span><span class="token punctuation">:</span> line-through<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.g-service</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 20px 10px 0 10px<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token selector">dl</span> <span class="token punctuation">{</span>
    <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token selector">dt</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">dd</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
      <span class="token selector">&amp;:last-child</span> <span class="token punctuation">{</span>
        <span class="token selector">span</span> <span class="token punctuation">{</span>
          <span class="token property">margin-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
          <span class="token selector">&amp;::before</span> <span class="token punctuation">{</span>
            <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;\u2022&quot;</span><span class="token punctuation">;</span>
            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
            <span class="token property">margin-right</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token selector">a</span> <span class="token punctuation">{</span>
          <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br></div></div><ul><li>\u2475 \u4F7F\u7528\u7EC4\u4EF6 <code>src/views/goods/index.vue</code></li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> GoodsSales <span class="token keyword">from</span> <span class="token string">&quot;./components/goods-sales&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> GoodsName <span class="token keyword">from</span> <span class="token string">&quot;./components/goods-name&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> GoodsRelevant<span class="token punctuation">,</span> GoodsImage<span class="token punctuation">,</span> GoodsSales<span class="token punctuation">,</span> GoodsName <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     &lt;!-- \u5546\u54C1\u4FE1\u606F --&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;div class=&quot;goods-info&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;div class=&quot;media&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;GoodsImage :images=&quot;goods.mainPictures&quot; /&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          &lt;GoodsSales /&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;div class=&quot;spec&quot;&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          &lt;GoodsName :goods=&quot;goods&quot;/&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;/div&gt;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>\u2476 \u6E32\u67D3\u6570\u636E <code>src/views/goods/components/goods-name.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>g-name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{goods.name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>g-desc<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{goods.desc}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>g-price<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{goods.price}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{goods.oldPrice}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_06-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u57FA\u7840\u5E03\u5C40" tabindex="-1">06-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u57FA\u7840\u5E03\u5C40 <a class="header-anchor" href="#_06-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u57FA\u7840\u5E03\u5C40" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5B8C\u6210\u57CE\u5E02\u7EC4\u4EF6\u7684\u57FA\u7840\u5E03\u5C40\u548C\u57FA\u672C\u663E\u793A\u9690\u85CF\u5207\u6362\u6548\u679C\u3002</p></blockquote><p><img src="`+l+`" alt="1613812180451"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u51C6\u5907\u57FA\u672C\u7EC4\u4EF6\u7ED3\u6784</li><li>\u5B8C\u6210\u5207\u6362\u663E\u793A\u9690\u85CF</li><li>\u5B8C\u6210\u70B9\u51FB\u5916\u90E8\u9690\u85CF</li></ul><p>\u843D\u5730\u4EE3\u7801\uFF1A</p><p><code>src/components/library/xtx-city.vue</code></p><ul><li>\u7ED3\u6784</li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-city<span class="token punctuation">&quot;</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>select<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>toggleDialog<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>placeholder<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BF7\u9009\u62E9\u914D\u9001\u5730\u5740<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-angle-down<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>option<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ellipsis<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i in 24<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5317\u4EAC\u5E02<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ul><li>\u903B\u8F91</li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> onClickOutside <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@vueuse/core&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;XtxCity&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u63A7\u5236\u5C55\u5F00\u6536\u8D77,\u9ED8\u8BA4\u6536\u8D77</span>
    <span class="token keyword">const</span> active <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">openDialog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      active<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">closeDialog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      active<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5207\u6362\u5C55\u5F00\u6536\u8D77</span>
    <span class="token keyword">const</span> <span class="token function-variable function">toggleDialog</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>active<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token function">closeDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span> <span class="token function">openDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// \u70B9\u51FB\u5176\u4ED6\u4F4D\u7F6E\u9690\u85CF</span>
    <span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">onClickOutside</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">closeDialog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> active<span class="token punctuation">,</span> toggleDialog<span class="token punctuation">,</span> target <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><ul><li>\u6837\u5F0F</li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.xtx-city</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token property">z-index</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>
  <span class="token selector">.select</span> <span class="token punctuation">{</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 5px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token selector">&amp;.active</span> <span class="token punctuation">{</span>
      <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.placeholder</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.value</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">i</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.option</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 542px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 29px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">min-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token selector">&gt; span</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 130px<span class="token punctuation">;</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
      <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 3px<span class="token punctuation">;</span>
      <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h2 id="_06-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u83B7\u53D6\u6570\u636E" tabindex="-1">06-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u83B7\u53D6\u6570\u636E <a class="header-anchor" href="#_06-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u83B7\u53D6\u6570\u636E" aria-hidden="true">#</a></h2><blockquote><p>2 \u76EE\u7684\uFF1A\u7EC4\u4EF6\u521D\u59CB\u5316\u7684\u65F6\u5019\u83B7\u53D6\u57CE\u5E02\u6570\u636E\uFF0C\u8FDB\u884C\u9ED8\u8BA4\u5C55\u793A\u3002</p></blockquote><p><img src="`+u+`" alt="1616897574344"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u83B7\u53D6\u6570\u636E\u51FD\u6570\u5C01\u88C5\u4E14\u652F\u6301\u7F13\u5B58\u3002</li><li>\u83B7\u53D6\u6570\u636E\u6E32\u67D3\u4E14\u52A0\u4E0A\u52A0\u8F7D\u4E2D\u6548\u679C\u3002</li><li>\u52A0\u4E0A\u4E00\u4E2A<code>vue-cli</code>\u914D\u7F6E\uFF0C\u5904\u7406\u56FE\u7247\u4E3A base64</li></ul><p>\u843D\u5730\u4EE3\u7801\uFF1A<code>src/components/library/xtx-city.vue</code></p><ul><li>\u83B7\u53D6\u6570\u636E\u7684\u51FD\u6570</li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u83B7\u53D6\u57CE\u5E02\u6570\u636E</span>
<span class="token comment">// 1. \u6570\u636E\u5728\u54EA\u91CC\uFF1Fhttps://yjy-oss-files.oss-cn-zhangjiakou.aliyuncs.com/tuxian/area.json</span>
<span class="token comment">// 2. \u4F55\u65F6\u83B7\u53D6\uFF1F\u6253\u5F00\u57CE\u5E02\u5217\u8868\u7684\u65F6\u5019\uFF0C\u505A\u4E2A\u5185\u5B58\u4E2D\u7F13\u5B58</span>
<span class="token comment">// 3. \u600E\u4E48\u4F7F\u7528\u6570\u636E\uFF1F\u5B9A\u4E49\u8BA1\u7B97\u5C5E\u6027\uFF0C\u6839\u636E\u70B9\u51FB\u7684\u7701\u4EFD\u57CE\u5E02\u5C55\u793A</span>
<span class="token keyword">const</span> <span class="token function-variable function">getCityData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u8FD9\u4E2A\u4F4D\u7F6E\u53EF\u80FD\u6709\u5F02\u5E38\u64CD\u4F5C\uFF0C\u5C01\u88C5\u6210promise</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>cityData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u6709\u7F13\u5B58</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>cityData<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u65E0\u7F13\u5B58</span>
      <span class="token keyword">const</span> url <span class="token operator">=</span>
        <span class="token string">&quot;https://yjy-oss-files.oss-cn-zhangjiakou.aliyuncs.com/tuxian/area.json&quot;</span><span class="token punctuation">;</span>
      axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        window<span class="token punctuation">.</span>cityData <span class="token operator">=</span> res<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>cityData<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ul><li>open \u4F7F\u7528\u51FD\u6570</li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u83B7\u53D6\u57CE\u5E02\u6570\u636E,\u663E\u793A\u5F53\u524D\u5730\u65B9\u5217\u8868</span>
<span class="token comment">// 2. \u663E\u793A\u548C\u9690\u85CF\u51FD\u6570\uFF08\u4E3A\u4EC0\u4E48\u662F\u51FD\u6570\uFF0C\u505A\u66F4\u591A\u4E8B\u60C5\uFF09</span>
<span class="token keyword">const</span> loading <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> cityData <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">open</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  visible<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  loading<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token comment">// \u83B7\u53D6\u6570\u636E</span>
  <span class="token function">getCityData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    cityData<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">;</span>
    loading<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// \u5B9A\u4E49\u8BA1\u7B97\u5C5E\u6027</span>
<span class="token keyword">const</span> currList <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> currList <span class="token operator">=</span> cityData<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token comment">// TODO \u6839\u636E\u70B9\u51FB\u7684\u7701\u4EFD\u57CE\u5E02\u83B7\u53D6\u5BF9\u5E94\u7684\u5217\u8868</span>
  <span class="token keyword">return</span> currList<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token punctuation">{</span> active<span class="token punctuation">,</span> toggleDialog<span class="token punctuation">,</span> target<span class="token punctuation">,</span> currList<span class="token punctuation">,</span> loading <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ul><li>\u52A0\u8F7D\u4E2D\u6837\u5F0F</li></ul><div class="language-less line-numbers-mode"><pre><code><span class="token selector">.option</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u7701\u7565...</span>
  <span class="token selector">.loading</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 290px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>../../assets/images/loading.gif<span class="token punctuation">)</span></span> no<span class="token operator">-</span>repeat center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>\u6A21\u677F\u4E2D\u4F7F\u7528</li></ul><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;div class=&quot;option&quot; v-if=&quot;visible&quot;&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      &lt;div v-if=&quot;loading&quot; class=&quot;loading&quot;&gt;&lt;/div&gt;
</span><span class="token prefix inserted">+</span><span class="token line">      &lt;template v-else&gt;
</span><span class="token prefix inserted">+</span><span class="token line">        &lt;span class=&quot;ellipsis&quot; v-for=&quot;item in currList&quot; :key=&quot;item.code&quot;&gt;{{item.name}}&lt;/span&gt;
</span><span class="token prefix inserted">+</span><span class="token line">      &lt;/template&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;/div&gt;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>\u6CE8\u610F\u4E8B\u9879\uFF1A</strong> \u9700\u8981\u914D\u7F6E 10kb \u4E0B\u7684\u56FE\u7247\u6253\u5305\u6210 base64 \u7684\u683C\u5F0F <code>vue.config.js</code></p><div class="language-js line-numbers-mode"><pre><code><span class="token function-variable function">chainWebpack</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  config<span class="token punctuation">.</span>module
    <span class="token punctuation">.</span><span class="token function">rule</span><span class="token punctuation">(</span><span class="token string">&quot;images&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">loader</span><span class="token punctuation">(</span><span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>options<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">limit</span><span class="token operator">:</span> <span class="token number">10000</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_07-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u4EA4\u4E92\u903B\u8F91" tabindex="-1">07-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u4EA4\u4E92\u903B\u8F91 <a class="header-anchor" href="#_07-\u5546\u54C1\u8BE6\u60C5-\u57CE\u5E02\u7EC4\u4EF6-\u4EA4\u4E92\u903B\u8F91" aria-hidden="true">#</a></h2><blockquote><p>3 \u76EE\u7684\uFF1A\u663E\u793A\u7701\u5E02\u533A\u6587\u5B57\uFF0C\u8BA9\u7EC4\u4EF6\u80FD\u591F\u9009\u62E9\u7701\u5E02\u533A\u5E76\u4E14\u53CD\u9988\u7ED9\u7236\u7EC4\u4EF6\u3002</p></blockquote><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u660E\u786E\u548C\u540E\u53F0\u4EA4\u4E92\u7684\u65F6\u5019\u9700\u8981\u4EA7\u751F\u54EA\u4E9B\u6570\u636E\uFF0C\u7701 code\uFF0C\u5E02 code\uFF0C\u5730\u533A code\uFF0C\u5B83\u4EEC\u7EC4\u5408\u518D\u4E00\u8D77\u7684\u6587\u5B57\u3002</li><li>\u5546\u54C1\u8BE6\u60C5\u7684\u9ED8\u8BA4\u5730\u5740\uFF0C\u5982\u679C\u767B\u5F55\u4E86\u53C8\u5730\u5740\u5217\u8868\uFF0C\u9700\u8981\u83B7\u53D6\u9ED8\u8BA4\u7684\u5730\u5740\uFF0C\u8BBE\u7F6E\u5546\u54C1\u8BE6\u60C5\u7684\u5730\u5740\u3002</li><li>\u7136\u540E\u9ED8\u8BA4\u7684\u5730\u5740\u9700\u8981\u4F20\u9012\u7ED9<code>xtx-city</code>\u7EC4\u4EF6\u505A\u9ED8\u8BA4\u503C\u663E\u793A</li><li>\u7136\u540E <code>xtx-city</code> \u7EC4\u4EF6\u4EA7\u751F\u6570\u636E\u7684\u65F6\u5019\uFF0C\u9700\u8981\u7ED9\u51FA\uFF1A\u7701 code\uFF0C\u5E02 code\uFF0C\u5730\u533A code\uFF0C\u5B83\u4EEC\u7EC4\u5408\u518D\u4E00\u8D77\u7684\u6587\u5B57\u3002</li></ul><p>\u843D\u7684\u4EE3\u7801\uFF1A</p><ul><li>\u7B2C\u4E00\u6B65\uFF1A\u7236\u7EC4\u4EF6\u8BBE\u7F6E \u7701\u5E02\u533A\u7684 code \u6570\u636E\uFF0C\u5BF9\u5E94\u7684\u6587\u5B57\u6570\u636E\u3002</li></ul><p><code>src/views/goods/components/goods-name.vue</code></p><div class="language-js line-numbers-mode"><pre><code>  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u9ED8\u8BA4\u60C5\u51B5</span>
    <span class="token keyword">const</span> provinceCode <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;110000&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> cityCode <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;119900&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> countyCode <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;110101&#39;</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> fullLocation <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&#39;\u5317\u4EAC\u5E02 \u5E02\u8F96\u533A \u4E1C\u57CE\u533A&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// \u6709\u9ED8\u8BA4\u5730\u5740</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>props<span class="token punctuation">.</span>goods<span class="token punctuation">.</span>userAddresses<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> defaultAddr <span class="token operator">=</span> props<span class="token punctuation">.</span>goods<span class="token punctuation">.</span>userAddresses<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">addr</span> <span class="token operator">=&gt;</span> addr<span class="token punctuation">.</span>isDefault <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>defaultAddr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        provinceCode<span class="token punctuation">.</span>value <span class="token operator">=</span> defaultAddr<span class="token punctuation">.</span>provinceCode
        cityCode<span class="token punctuation">.</span>value <span class="token operator">=</span> defaultAddr<span class="token punctuation">.</span>cityCode
        countyCode<span class="token punctuation">.</span>value <span class="token operator">=</span> defaultAddr<span class="token punctuation">.</span>countyCode
        fullLocation<span class="token punctuation">.</span>value <span class="token operator">=</span> defaultAddr<span class="token punctuation">.</span>fullLocation
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>  fullLocation <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCity</span> <span class="token attr-name">:fullLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fullLocation<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>\u7B2C\u4E8C\u6B65\uFF1A\u76D1\u542C\u7528\u6237\u70B9\u51FB \u7701\uFF0C\u5E02 \u5C55\u793A \u5E02\u5217\u8868\u548C\u5730\u533A\u5217\u8868\u3002</li></ul><p><code>src/components/xtx-city.vue</code></p><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;div class=&quot;option&quot; v-show=&quot;visible&quot;&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      &lt;span @click=&quot;changeItem(item)&quot; class=&quot;ellipsis&quot;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">const</span> changeResult <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">provinceCode</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">provinceName</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cityCode</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">cityName</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">countyCode</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">countyName</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">fullLocation</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">changeItem</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u7701\u4EFD</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>level <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    changeResult<span class="token punctuation">.</span>provinceCode <span class="token operator">=</span> item<span class="token punctuation">.</span>code<span class="token punctuation">;</span>
    changeResult<span class="token punctuation">.</span>provinceName <span class="token operator">=</span> item<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5E02</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>level <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    changeResult<span class="token punctuation">.</span>cityCode <span class="token operator">=</span> item<span class="token punctuation">.</span>code<span class="token punctuation">;</span>
    changeResult<span class="token punctuation">.</span>cityName <span class="token operator">=</span> item<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>\u8BA1\u7B97\u51FA\u9700\u8981\u5C55\u793A\u5217\u8868</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u5B9A\u4E49\u8BA1\u7B97\u5C5E\u6027</span>
<span class="token keyword">const</span> currList <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u7701\u4EFD</span>
  <span class="token keyword">let</span> currList <span class="token operator">=</span> cityData<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token comment">// \u57CE\u5E02</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>changeResult<span class="token punctuation">.</span>provinceCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    currList <span class="token operator">=</span> currList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> p<span class="token punctuation">.</span>code <span class="token operator">===</span> changeResult<span class="token punctuation">.</span>provinceCode
    <span class="token punctuation">)</span><span class="token punctuation">.</span>areaList<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u5730\u533A</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>changeResult<span class="token punctuation">.</span>cityCode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    currList <span class="token operator">=</span> currList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>code <span class="token operator">===</span> changeResult<span class="token punctuation">.</span>cityCode<span class="token punctuation">)</span><span class="token punctuation">.</span>areaList<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> currList<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u6253\u5F00\u5F39\u5C42\u6E05\u7A7A\u4E4B\u524D\u7684\u9009\u62E9</p><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   const open = () =&gt; {
</span><span class="token prefix unchanged"> </span><span class="token line">     visible.value = true
</span><span class="token prefix unchanged"> </span><span class="token line">     loading.value = true
</span><span class="token prefix unchanged"> </span><span class="token line">     // \u83B7\u53D6\u6570\u636E
</span><span class="token prefix unchanged"> </span><span class="token line">     getCityData().then(data =&gt; {
</span><span class="token prefix unchanged"> </span><span class="token line">       cityData.value = data
</span><span class="token prefix unchanged"> </span><span class="token line">       loading.value = false
</span><span class="token prefix unchanged"> </span><span class="token line">     })
</span><span class="token prefix unchanged"> </span><span class="token line">     // \u6E05\u7A7A\u9009\u62E9\u7ED3\u679C
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      for (const key in changeResult) {
</span><span class="token prefix inserted">+</span><span class="token line">        changeResult[key] = &#39;&#39;
</span><span class="token prefix inserted">+</span><span class="token line">      }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><ul><li>\u7B2C\u4E09\u6B65\uFF1A\u70B9\u51FB\u5730\u533A\u7684\u65F6\u5019\uFF0C\u5C06\u6570\u636E\u901A\u77E5\u7ED9\u7236\u7EC4\u4EF6\u4F7F\u7528\uFF0C\u5173\u95ED\u5BF9\u8BDD\u6846</li></ul><p><code>src/components/xtx-city.vue</code></p><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   const changeItem = (item) =&gt; {
</span><span class="token prefix unchanged"> </span><span class="token line">     // \u7701\u4EFD
</span><span class="token prefix unchanged"> </span><span class="token line">     if (item.level === 0) {
</span><span class="token prefix unchanged"> </span><span class="token line">       changeResult.provinceCode = item.code
</span><span class="token prefix unchanged"> </span><span class="token line">       changeResult.provinceName = item.name
</span><span class="token prefix unchanged"> </span><span class="token line">     }
</span><span class="token prefix unchanged"> </span><span class="token line">     // \u5E02
</span><span class="token prefix unchanged"> </span><span class="token line">     if (item.level === 1) {
</span><span class="token prefix unchanged"> </span><span class="token line">       changeResult.cityCode = item.code
</span><span class="token prefix unchanged"> </span><span class="token line">       changeResult.cityName = item.name
</span><span class="token prefix unchanged"> </span><span class="token line">     }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      // \u5730\u533A
</span><span class="token prefix inserted">+</span><span class="token line">      if (item.level === 2) {
</span><span class="token prefix inserted">+</span><span class="token line">        changeResult.countyCode = item.code
</span><span class="token prefix inserted">+</span><span class="token line">        changeResult.countyName = item.name
</span><span class="token prefix inserted">+</span><span class="token line">		changeResult.fullLocation = \`\${changeResult.provinceName} \${changeResult.cityName} \${changeResult.countyName}\`
</span><span class="token prefix inserted">+</span><span class="token line">        close()
</span><span class="token prefix inserted">+</span><span class="token line">        emit(&#39;change&#39;, changeResult)
</span><span class="token prefix inserted">+</span><span class="token line">      }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p><code>src/views/goods/components/goods-name.vue</code></p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u9009\u62E9\u57CE\u5E02</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeCity</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  provinceCode<span class="token punctuation">.</span>value <span class="token operator">=</span> result<span class="token punctuation">.</span>provinceCode<span class="token punctuation">;</span>
  cityCode<span class="token punctuation">.</span>value <span class="token operator">=</span> result<span class="token punctuation">.</span>cityCode<span class="token punctuation">;</span>
  countyCode<span class="token punctuation">.</span>value <span class="token operator">=</span> result<span class="token punctuation">.</span>countyCode<span class="token punctuation">;</span>
  fullLocation<span class="token punctuation">.</span>value <span class="token operator">=</span> result<span class="token punctuation">.</span>fullLocation<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">{</span> fullLocation<span class="token punctuation">,</span> changeCity <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCity</span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeCity<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:fullLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fullLocation<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_07-\u2605-\u89C4\u683C\u7EC4\u4EF6-sku-spu-\u6982\u5FF5" tabindex="-1">07-\u2605 \u89C4\u683C\u7EC4\u4EF6-SKU&amp;SPU \u6982\u5FF5 <a class="header-anchor" href="#_07-\u2605-\u89C4\u683C\u7EC4\u4EF6-sku-spu-\u6982\u5FF5" aria-hidden="true">#</a></h2><p>\u5B98\u65B9\u8BDD\u672F\uFF1A</p><ul><li>SPU\uFF08Standard Product Unit\uFF09\uFF1A\u6807\u51C6\u5316\u4EA7\u54C1\u5355\u5143\u3002\u662F\u5546\u54C1\u4FE1\u606F\u805A\u5408\u7684\u6700\u5C0F\u5355\u4F4D\uFF0C\u662F\u4E00\u7EC4\u53EF\u590D\u7528\u3001\u6613\u68C0\u7D22\u7684\u6807\u51C6\u5316\u4FE1\u606F\u7684\u96C6\u5408\uFF0C\u8BE5\u96C6\u5408\u63CF\u8FF0\u4E86\u4E00\u4E2A\u4EA7\u54C1\u7684\u7279\u6027\u3002\u901A\u4FD7\u70B9\u8BB2\uFF0C\u5C5E\u6027\u503C\u3001\u7279\u6027\u76F8\u540C\u7684\u5546\u54C1\u5C31\u53EF\u4EE5\u79F0\u4E3A\u4E00\u4E2A SPU\u3002</li><li>SKU\uFF08Stock Keeping Unit\uFF09\u5E93\u5B58\u91CF\u5355\u4F4D\uFF0C\u5373\u5E93\u5B58\u8FDB\u51FA\u8BA1\u91CF\u7684\u5355\u4F4D\uFF0C \u53EF\u4EE5\u662F\u4EE5\u4EF6\u3001\u76D2\u3001\u6258\u76D8\u7B49\u4E3A\u5355\u4F4D\u3002SKU \u662F\u7269\u7406\u4E0A\u4E0D\u53EF\u5206\u5272\u7684\u6700\u5C0F\u5B58\u8D27\u5355\u5143\u3002\u5728\u4F7F\u7528\u65F6\u8981\u6839\u636E\u4E0D\u540C\u4E1A\u6001\uFF0C\u4E0D\u540C\u7BA1\u7406\u6A21\u5F0F\u6765\u5904\u7406\u3002</li></ul><p>\u753B\u56FE\u7406\u89E3\uFF1A</p><p><img src="`+r+'" alt="1613878134510"></p><p>\u603B\u7ED3\u4E00\u4E0B\uFF1A</p><ul><li>spu \u4EE3\u8868\u4E00\u4E2A\u5546\u54C1\uFF0C\u62E5\u6709\u5F88\u591A\u76F8\u540C\u7684\u5C5E\u6027\u3002</li><li>sku \u4EE3\u8868\u8BE5\u5546\u54C1\u53EF\u9009\u89C4\u683C\u7684\u4EFB\u610F\u7EC4\u5408\uFF0C\u4ED6\u662F\u5E93\u5B58\u5355\u4F4D\u7684\u552F\u4E00\u6807\u8BC6\u3002</li></ul><h2 id="_08-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u57FA\u7840\u7ED3\u6784\u548C\u6837\u5F0F" tabindex="-1">08-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u57FA\u7840\u7ED3\u6784\u548C\u6837\u5F0F <a class="header-anchor" href="#_08-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u57FA\u7840\u7ED3\u6784\u548C\u6837\u5F0F" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u6807\uFF0C\u5B8C\u6210\u89C4\u683C\u7EC4\u4EF6\u7684\u57FA\u7840\u5E03\u5C40\u3002</p></blockquote><p><img src="'+i+`" alt="1614068663196"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u51C6\u5907\u7EC4\u4EF6</li><li>\u4F7F\u7528\u7EC4\u4EF6</li></ul><p>\u843D\u5730\u4EE3\u7801\uFF1A</p><ul><li>\u7EC4\u4EF6\u7ED3\u6784 <code>src/views/goods/components/goods-sku.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-sku<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>\u989C\u8272<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selected<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://yanxuan-item.nosdn.127.net/d77c1f9347d06565a05e606bd4f949e0.png<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://yanxuan-item.nosdn.127.net/d77c1f9347d06565a05e606bd4f949e0.png<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>\u5C3A\u5BF8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>10\u82F1\u5BF8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>selected<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>20\u82F1\u5BF8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>30\u82F1\u5BF8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>\u7248\u672C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u7F8E\u7248<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u6E2F\u7248<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsSku&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.sku-state-mixin ()</span> <span class="token punctuation">{</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
  <span class="token property">margin-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token selector">&amp;.selected</span> <span class="token punctuation">{</span>
    <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
  <span class="token punctuation">}</span>
  <span class="token selector">&amp;.disabled</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.6<span class="token punctuation">;</span>
    <span class="token property">border-style</span><span class="token punctuation">:</span> dashed<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> not-allowed<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token selector">.goods-sku</span> <span class="token punctuation">{</span>
  <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">padding-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token selector">dl</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token selector">dt</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">dd</span> <span class="token punctuation">{</span>
      <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
      <span class="token selector">&gt; img</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
        .sku-state-mixin <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&gt; span</span> <span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0 20px<span class="token punctuation">;</span>
        .sku-state-mixin <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><ul><li>\u4F7F\u7528\u7EC4\u4EF6 <code>src/views/goods/index.vue</code></li></ul><div class="language-diff line-numbers-mode"><pre><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import GoodsSku from &#39;./components/goods-sku&#39;
</span></span>
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> name: &#39;XtxGoodsPage&#39;,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  components: { GoodsRelevant, GoodsImage, GoodsSales, GoodsName, GoodsSku },
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> setup () {
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;div class=&quot;spec&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;!-- \u540D\u5B57\u533A\u7EC4\u4EF6 --&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;GoodsName :goods=&quot;goods&quot; /&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;!-- \u89C4\u683C\u7EC4\u4EF6 --&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          &lt;GoodsSku /&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;/div&gt;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u603B\u7ED3\uFF1A \u6BCF\u4E00\u4E2A\u6309\u94AE\u62E5\u6709<code>selected</code> <code>disabled</code> \u7C7B\u540D\uFF0C\u505A \u9009\u4E2D \u548C \u7981\u7528\u8981\u7528\u3002</p><h2 id="_09-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u6E32\u67D3\u4E0E\u9009\u4E2D\u6548\u679C" tabindex="-1">09-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u6E32\u67D3\u4E0E\u9009\u4E2D\u6548\u679C <a class="header-anchor" href="#_09-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u6E32\u67D3\u4E0E\u9009\u4E2D\u6548\u679C" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u6839\u636E\u5546\u54C1\u4FE1\u606F\u6E32\u67D3\u89C4\u683C\uFF0C\u5B8C\u6210\u9009\u4E2D\uFF0C\u53D6\u6D88\u9009\u4E2D\u6548\u679C\u3002</p></blockquote><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u4F9D\u8D56 <code>goods.specs</code> \u6E32\u67D3\u89C4\u683C</li><li>\u7ED1\u5B9A\u6309\u94AE\u70B9\u51FB\u4E8B\u4EF6\uFF0C\u5B8C\u6210\u9009\u4E2D\u548C\u53D6\u6D88\u9009\u4E2D <ul><li>\u5F53\u524D\u70B9\u7684\u662F\u9009\u4E2D\uFF0C\u53D6\u6D88\u5373\u53EF</li><li>\u5F53\u524D\u70B9\u7684\u672A\u9009\u4E2D\uFF0C\u5148\u5F53\u524D\u89C4\u683C\u6309\u94AE\u5168\u90E8\u53D6\u6D88\uFF0C\u5F53\u524D\u6309\u94AE\u9009\u4E2D\u3002</li></ul></li></ul><p>\u843D\u7684\u4EE3\u7801\uFF1A<code>src/views/goods/components/goods-sku.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-sku<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in goods.specs<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>val in item.values<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>val.name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
            <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ selected: val.selected }<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickSpecs(item, val)<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>val.picture<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>val.picture<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>val.name<span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">/&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
            <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ selected: val.selected }<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickSpecs(item, val)<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">v-else</span>
            <span class="token punctuation">&gt;</span></span>{{ val.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span>
          <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsSku&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">goods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">specs</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">skus</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token function-variable function">clickSpecs</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 1. \u9009\u4E2D\u4E0E\u53D6\u6D88\u9009\u4E2D\u903B\u8F91</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">.</span>selected<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        val<span class="token punctuation">.</span>selected <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        item<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">bv</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          bv<span class="token punctuation">.</span>selected <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        val<span class="token punctuation">.</span>selected <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> clickSpecs <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p>\u6CE8\u610F\uFF1A<code>\u5904\u7406\u540E\u53F0\u6570\u636E\u4E0D\u89C4\u8303\uFF0C\u89C4\u683C\u5C5E\u6027\u987A\u5E8F\u548Csku\u5C5E\u6027\u987A\u5E8F\u4E0D\u4E00\u81F4\u95EE\u9898</code> <code>src/views/goods/index.vue</code> \u73B0\u5728\u65E0\u9700\u5904\u7406\u3002</p><div class="language-js line-numbers-mode"><pre><code><span class="token function">findGoods</span><span class="token punctuation">(</span><span class="token string">&quot;1369155859933827074&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> result <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// const sortSpecs = []</span>
  <span class="token comment">// result.skus[0].specs.forEach(spec =&gt; {</span>
  <span class="token comment">//   sortSpecs.push(result.specs.find(item =&gt; item.name === spec.name))</span>
  <span class="token comment">// })</span>
  <span class="token comment">// result.specs = sortSpecs</span>
  result<span class="token punctuation">.</span>skus<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sku</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> sortSpecs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    result<span class="token punctuation">.</span>specs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">spec</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      sortSpecs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sku<span class="token punctuation">.</span>specs<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> item<span class="token punctuation">.</span>name <span class="token operator">===</span> spec<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    sku<span class="token punctuation">.</span>specs <span class="token operator">=</span> sortSpecs<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  goods<span class="token punctuation">.</span>value <span class="token operator">=</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_10-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u601D\u8DEF\u5206\u6790" tabindex="-1">10-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u601D\u8DEF\u5206\u6790 <a class="header-anchor" href="#_10-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u601D\u8DEF\u5206\u6790" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u6807\uFF1A\u5927\u81F4\u4E86\u89E3\u7981\u7528\u6548\u679C\u7684\u6574\u4F53\u601D\u8DEF\uFF0C\u6CE8\u610F\u53EA\u662F\u4E86\u89E3\u3002</p></blockquote><p><img src="`+k+`" alt="1613887164658"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ol><li>\u6839\u636E\u540E\u53F0\u8FD4\u56DE\u7684 skus \u6570\u636E\u5F97\u5230\u6709\u6548 sku \u7EC4\u5408</li><li>\u6839\u636E\u6709\u6548\u7684 sku \u7EC4\u5408\u5F97\u5230\u6240\u6709\u7684\u5B50\u96C6\u96C6\u5408</li><li>\u6839\u636E\u5B50\u96C6\u96C6\u5408\u7EC4\u5408\u6210\u4E00\u4E2A\u8DEF\u5F84\u5B57\u5178\uFF0C\u4E5F\u5C31\u662F\u5BF9\u8C61\u3002</li><li>\u5728\u7EC4\u4EF6\u521D\u59CB\u5316\u7684\u65F6\u5019\u53BB\u5224\u65AD\u6BCF\u4E2A\u89C4\u683C\u662F\u5426\u70B9\u51FB</li><li>\u5728\u70B9\u51FB\u89C4\u683C\u7684\u65F6\u5019\u53BB\u5224\u65AD\u5176\u4ED6\u89C4\u683C\u662F\u5426\u53EF\u70B9\u51FB</li><li>\u5224\u65AD\u7684\u4F9D\u636E\u662F\uFF0C\u62FF\u7740\u8BF4\u6709\u89C4\u683C\u548C\u73B0\u5728\u5DF2\u7ECF\u9009\u4E2D\u7684\u89C4\u5219\u53D6\u642D\u914D\uFF0C\u5F97\u5230\u53EF\u8D70\u8DEF\u5F84\u3002 <ol><li>\u5982\u679C\u53EF\u8D70\u8DEF\u5F84\u5728\u5B57\u5178\u4E2D\uFF0C\u53EF\u70B9\u51FB</li><li>\u5982\u679C\u53EF\u8D70\u8DEF\u5F84\u4E0D\u5728\u5B57\u5178\u4E2D\uFF0C\u7981\u7528</li></ol></li></ol><h2 id="_11-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u8DEF\u5F84\u5B57\u5178" tabindex="-1">11-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u8DEF\u5F84\u5B57\u5178 <a class="header-anchor" href="#_11-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u8DEF\u5F84\u5B57\u5178" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u6839\u636E\u540E\u53F0 skus \u6570\u636E\u5F97\u5230\u53EF\u8D70\u8DEF\u5F84\u5B57\u5178\u5BF9\u8C61</p></blockquote><ul><li>js \u7B97\u6CD5\u5E93 <a href="https://github.com/trekhleb/javascript-algorithms" target="_blank" rel="noopener noreferrer">https://github.com/trekhleb/javascript-algorithms</a></li><li>\u5E42\u96C6\u7B97\u6CD5 <a href="https://raw.githubusercontent.com/trekhleb/javascript-algorithms/master/src/algorithms/sets/power-set/bwPowerSet.js" target="_blank" rel="noopener noreferrer">https://raw.githubusercontent.com/trekhleb/javascript-algorithms/master/src/algorithms/sets/power-set/bwPowerSet.js</a></li></ul><p><code>src/vender/power-set.js</code></p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">/**
 * Find power-set of a set using BITWISE approach.
 *
 * @param {*[]} originalSet
 * @return {*[][]}
 */</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">bwPowerSet</span><span class="token punctuation">(</span><span class="token parameter">originalSet</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> subSets <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// We will have 2^n possible combinations (where n is a length of original set).</span>
  <span class="token comment">// It is because for every element of original set we will decide whether to include</span>
  <span class="token comment">// it or not (2 options for each set element).</span>
  <span class="token keyword">const</span> numberOfCombinations <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">**</span> originalSet<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

  <span class="token comment">// Each number in binary representation in a range from 0 to 2^n does exactly what we need:</span>
  <span class="token comment">// it shows by its bits (0 or 1) whether to include related element from the set or not.</span>
  <span class="token comment">// For example, for the set {1, 2, 3} the binary number of 0b010 would mean that we need to</span>
  <span class="token comment">// include only &quot;2&quot; to the current set.</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span>
    <span class="token keyword">let</span> combinationIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    combinationIndex <span class="token operator">&lt;</span> numberOfCombinations<span class="token punctuation">;</span>
    combinationIndex <span class="token operator">+=</span> <span class="token number">1</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> subSet <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span>
      <span class="token keyword">let</span> setElementIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
      setElementIndex <span class="token operator">&lt;</span> originalSet<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
      setElementIndex <span class="token operator">+=</span> <span class="token number">1</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Decide whether we need to include current element into the subset or not.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>combinationIndex <span class="token operator">&amp;</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> setElementIndex<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        subSet<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>originalSet<span class="token punctuation">[</span>setElementIndex<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Add current subset to the list of all subsets.</span>
    subSets<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>subSet<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> subSets<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><p><code>src/views/goods/components/goods-sku.vue</code></p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> getPowerSet <span class="token keyword">from</span> <span class="token string">&quot;@/vender/power-set&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> spliter <span class="token operator">=</span> <span class="token string">&quot;\u2605&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// \u6839\u636Eskus\u6570\u636E\u5F97\u5230\u8DEF\u5F84\u5B57\u5178\u5BF9\u8C61</span>
<span class="token keyword">const</span> <span class="token function-variable function">getPathMap</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">skus</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> pathMap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  skus<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sku</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1. \u8FC7\u6EE4\u51FA\u6709\u5E93\u5B58\u6709\u6548\u7684sku</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>sku<span class="token punctuation">.</span>inventory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 2. \u5F97\u5230sku\u5C5E\u6027\u503C\u6570\u7EC4</span>
      <span class="token keyword">const</span> specs <span class="token operator">=</span> sku<span class="token punctuation">.</span>specs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">spec</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> spec<span class="token punctuation">.</span>valueName<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 3. \u5F97\u5230sku\u5C5E\u6027\u503C\u6570\u7EC4\u7684\u5B50\u96C6</span>
      <span class="token keyword">const</span> powerSet <span class="token operator">=</span> <span class="token function">getPowerSet</span><span class="token punctuation">(</span>specs<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 4. \u8BBE\u7F6E\u7ED9\u8DEF\u5F84\u5B57\u5178\u5BF9\u8C61</span>
      powerSet<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">set</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> key <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>spliter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pathMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u5DF2\u7ECF\u6709key\u5F80\u6570\u7EC4\u8FFD\u52A0</span>
          pathMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sku<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u6CA1\u6709key\u8BBE\u7F6E\u4E00\u4E2A\u6570\u7EC4</span>
          pathMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>sku<span class="token punctuation">.</span>id<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> pathMap<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  setup (props) {
</span><span class="token prefix inserted">+</span><span class="token line">    const pathMap = getPathMap(props.goods.skus)
</span><span class="token prefix inserted">+</span><span class="token line">    console.log(pathMap)
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>\u53C2\u7167\u793A\u4F8B</li></ul><p><img src="`+b+'" alt="1616919264380"></p><h2 id="_12-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u8BBE\u7F6E\u72B6\u6001" tabindex="-1">12-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u8BBE\u7F6E\u72B6\u6001 <a class="header-anchor" href="#_12-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u7981\u7528\u6548\u679C-\u8BBE\u7F6E\u72B6\u6001" aria-hidden="true">#</a></h2><p><img src="'+m+'" alt="1617152493736"></p><blockquote><p>\u76EE\u7684\uFF1A\u5728\u7EC4\u4EF6\u521D\u59CB\u5316\u7684\u65F6\u5019\uFF0C\u70B9\u51FB\u89C4\u683C\u7684\u65F6\u5019\uFF0C\u53BB\u66F4\u65B0\u5176\u4ED6\u6309\u94AE\u7684\u7981\u7528\u72B6\u6001\u3002</p></blockquote><p>\u5927\u81F4\u7684\u6B65\u9AA4\uFF1A</p><ul><li>\u518D\u9700\u8981\u66F4\u65B0\u72B6\u6001\u7684\u65F6\u5019\u83B7\u53D6\u5F53\u524D\u9009\u4E2D\u7684\u89C4\u683C\u6570\u7EC4</li><li>\u904D\u5386\u6240\u6709\u7684\u89C4\u683C\u6309\u94AE\uFF0C\u62FF\u51FA\u6309\u94AE\u7684\u503C\u8BBE\u7F6E\u7ED9\u89C4\u683C\u6570\u7EC4\uFF0C\u8BA9\u540E\u5F97\u5230 key</li><li>\u62FF\u7740 key \u53BB\u8DEF\u5F84\u5B57\u5178\u4E2D\u67E5\u627E\uFF0C\u6709\u5C31\u53EF\u70B9\u51FB\uFF0C\u6CA1\u6709\u7981\u7528\u5373\u53EF\u3002</li></ul><p><img src="'+g+`" alt="1620294323632"></p><p><code>src/views/goods/components/goods-sku.vue</code></p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u5F97\u5230\u5F53\u524D\u9009\u4E2D\u89C4\u683C\u96C6\u5408</span>
<span class="token keyword">const</span> <span class="token function-variable function">getSelectedArr</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">specs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> selectedArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  specs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">spec</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> selectedVal <span class="token operator">=</span> spec<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> val<span class="token punctuation">.</span>selected<span class="token punctuation">)</span><span class="token punctuation">;</span>
    selectedArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>selectedVal <span class="token operator">?</span> selectedVal<span class="token punctuation">.</span>name <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> selectedArr<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u66F4\u65B0\u6309\u94AE\u7684\u7981\u7528\u72B6\u6001</span>
<span class="token keyword">const</span> <span class="token function-variable function">updateDisabledStatus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">specs<span class="token punctuation">,</span> pathMap</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  specs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">spec<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> selectedArr <span class="token operator">=</span> <span class="token function">getSelectedArr</span><span class="token punctuation">(</span>specs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    spec<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u5DF2\u7ECF\u9009\u4E2D\u7684\u6309\u94AE\u4E0D\u7528\u5224\u65AD</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>val<span class="token punctuation">.</span>name <span class="token operator">===</span> selectedArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token comment">// \u672A\u9009\u4E2D\u7684\u66FF\u6362\u5BF9\u5E94\u7684\u503C</span>
      selectedArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
      <span class="token comment">// \u8FC7\u6EE4\u65E0\u6548\u503C\u5F97\u5230key</span>
      <span class="token keyword">const</span> key <span class="token operator">=</span> selectedArr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> v<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>spliter<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// \u8BBE\u7F6E\u7981\u7528\u72B6\u6001</span>
      val<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token operator">!</span>pathMap<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> setup (props) {
</span><span class="token prefix unchanged"> </span><span class="token line">   const pathMap = getPathMap(props.goods.skus)
</span><span class="token prefix unchanged"> </span><span class="token line">   // \u7EC4\u4EF6\u521D\u59CB\u5316\u7684\u65F6\u5019\u66F4\u65B0\u7981\u7528\u72B6\u6001
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    updateDisabledStatus(props.goods.specs, pathMap)
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   const clickSpecs = (item, val) =&gt; {
</span><span class="token prefix unchanged"> </span><span class="token line">     // \u5982\u679C\u662F\u7981\u7528\u72B6\u6001\u4E0D\u4F5C\u4E3A
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      if (val.disabled) return false
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     // 1. \u9009\u4E2D\u4E0E\u53D6\u6D88\u9009\u4E2D\u903B\u8F91
</span><span class="token prefix unchanged"> </span><span class="token line">     if (val.selected) {
</span><span class="token prefix unchanged"> </span><span class="token line">       val.selected = false
</span><span class="token prefix unchanged"> </span><span class="token line">     } else {
</span><span class="token prefix unchanged"> </span><span class="token line">       item.values.find(bv =&gt; { bv.selected = false })
</span><span class="token prefix unchanged"> </span><span class="token line">       val.selected = true
</span><span class="token prefix unchanged"> </span><span class="token line">     }
</span><span class="token prefix unchanged"> </span><span class="token line">     // \u70B9\u51FB\u7684\u65F6\u5019\u66F4\u65B0\u7981\u7528\u72B6\u6001
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      updateDisabledStatus(props.goods.specs, pathMap)
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   }
</span><span class="token prefix unchanged"> </span><span class="token line">   return { clickSpecs }
</span><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="_13-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u6570\u636E\u901A\u8BAF" tabindex="-1">13-\u2605 \u89C4\u683C\u7EC4\u4EF6-\u6570\u636E\u901A\u8BAF <a class="header-anchor" href="#_13-\u2605-\u89C4\u683C\u7EC4\u4EF6-\u6570\u636E\u901A\u8BAF" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u6839\u636E\u4F20\u5165\u7684 skuId \u8FDB\u884C\u9ED8\u8BA4\u9009\u4E2D\uFF0C\u9009\u62E9\u89C4\u683C\u540E\u89E6\u53D1 change \u4E8B\u4EF6\u4F20\u51FA\u9009\u62E9\u7684 sku \u6570\u636E\u3002</p></blockquote><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u6839\u636E\u4F20\u5165\u7684 SKUID \u9009\u4E2D\u5BF9\u5E94\u89C4\u683C\u6309\u94AE</li><li>\u9009\u62E9\u89C4\u683C\u540E\u4F20\u9012 sku \u4FE1\u606F\u7ED9\u7236\u7EC4\u4EF6 <ul><li>\u5B8C\u6574\u89C4\u683C\uFF0C\u4F20 skuId \u4EF7\u683C \u539F\u4EF7 \u5E93\u5B58 \u89C4\u683C\u6587\u5B57</li><li>\u4E0D\u5B8C\u6574\u7684\uFF0C\u4F20 \u7A7A\u5BF9\u8C61</li></ul></li></ul><p>\u843D\u7684\u4EE3\u7801\uFF1A</p><ul><li>\u6839\u636E\u4F20\u4EBA\u7684 sku \u8BBE\u7F6E\u9ED8\u8BA4\u9009\u4E2D\u7684\u89C4\u683C <code>src/views/goods/components/goods-sku.vue</code></li></ul><div class="language-js line-numbers-mode"><pre><code>    <span class="token literal-property property">skuId</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u521D\u59CB\u5316\u9009\u4E2D\u72B6\u6001</span>
<span class="token keyword">const</span> <span class="token function-variable function">initSelectedStatus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">goods<span class="token punctuation">,</span> skuId</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> sku <span class="token operator">=</span> goods<span class="token punctuation">.</span>skus<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">sku</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> sku<span class="token punctuation">.</span>id <span class="token operator">===</span> skuId<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>sku<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    goods<span class="token punctuation">.</span>specs<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">spec<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> value <span class="token operator">=</span> sku<span class="token punctuation">.</span>specs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>valueName<span class="token punctuation">;</span>
      spec<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        val<span class="token punctuation">.</span>selected <span class="token operator">=</span> val<span class="token punctuation">.</span>name <span class="token operator">===</span> value<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> setup (props, { emit }) {
</span><span class="token prefix unchanged"> </span><span class="token line">   const pathMap = getPathMap(props.goods.skus)
</span><span class="token prefix unchanged"> </span><span class="token line">   // \u6839\u636E\u4F20\u5165\u7684skuId\u9ED8\u8BA4\u9009\u4E2D\u89C4\u683C\u6309\u94AE
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    initSelectedStatus(props.goods, props.skuId)
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   // \u7EC4\u4EF6\u521D\u59CB\u5316\u7684\u65F6\u5019\u66F4\u65B0\u7981\u7528\u72B6\u6001
</span><span class="token prefix unchanged"> </span><span class="token line">   updateDisabledStatus(props.goods.specs, pathMap)
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>\u6839\u636E\u9009\u62E9\u7684\u5B8C\u6574 sku \u89C4\u683C\u4F20\u51FA sku \u4FE1\u606F <ul><li>\u5176\u4E2D\u4F20\u51FA\u7684 specsText \u662F\u63D0\u4F9B\u7ED9\u8D2D\u7269\u8F66\u5B58\u50A8\u4F7F\u7528\u7684\u3002</li></ul></li></ul><p><code>src/views/goods/components/goods-sku.vue</code></p><div class="language-diff line-numbers-mode"><pre><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  setup (props, { emit }) {
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code>const clickSpecs = (item, val) =&gt; {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     // \u5982\u679C\u662F\u7981\u7528\u72B6\u6001\u4E0D\u4F5C\u4E3A
</span><span class="token prefix unchanged"> </span><span class="token line">     if (val.disabled) return false
</span><span class="token prefix unchanged"> </span><span class="token line">     // 1. \u9009\u4E2D\u4E0E\u53D6\u6D88\u9009\u4E2D\u903B\u8F91
</span><span class="token prefix unchanged"> </span><span class="token line">     if (val.selected) {
</span><span class="token prefix unchanged"> </span><span class="token line">       val.selected = false
</span><span class="token prefix unchanged"> </span><span class="token line">     } else {
</span><span class="token prefix unchanged"> </span><span class="token line">       item.values.find(bv =&gt; { bv.selected = false })
</span><span class="token prefix unchanged"> </span><span class="token line">       val.selected = true
</span><span class="token prefix unchanged"> </span><span class="token line">     }
</span><span class="token prefix unchanged"> </span><span class="token line">     // \u70B9\u51FB\u7684\u65F6\u5019\u66F4\u65B0\u7981\u7528\u72B6\u6001
</span><span class="token prefix unchanged"> </span><span class="token line">     updateDisabledStatus(props.goods.specs, pathMap)
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      // \u89E6\u53D1change\u4E8B\u4EF6\u5C06sku\u6570\u636E\u4F20\u9012\u51FA\u53BB
</span><span class="token prefix inserted">+</span><span class="token line">      const selectedArr = getSelectedArr(props.goods.specs).filter(v =&gt; v)
</span><span class="token prefix inserted">+</span><span class="token line">      if (selectedArr.length === props.goods.specs.length) {
</span><span class="token prefix inserted">+</span><span class="token line">        const skuIds = pathMap[selectedArr.join(spliter)]
</span><span class="token prefix inserted">+</span><span class="token line">        const sku = props.goods.skus.find(sku =&gt; sku.id === skuIds[0])
</span><span class="token prefix inserted">+</span><span class="token line">        // \u4F20\u9012
</span><span class="token prefix inserted">+</span><span class="token line">        emit(&#39;change&#39;, {
</span><span class="token prefix inserted">+</span><span class="token line">          skuId: sku.id,
</span><span class="token prefix inserted">+</span><span class="token line">          price: sku.price,
</span><span class="token prefix inserted">+</span><span class="token line">          oldPrice: sku.oldPrice,
</span><span class="token prefix inserted">+</span><span class="token line">          inventory: sku.inventory,
</span><span class="token prefix inserted">+</span><span class="token line">          specsText: sku.specs.reduce((p, n) =&gt; \`\${p} \${n.name}\uFF1A\${n.valueName}\`, &#39;&#39;).replace(&#39; &#39;, &#39;&#39;)
</span><span class="token prefix inserted">+</span><span class="token line">        })
</span><span class="token prefix inserted">+</span><span class="token line">      } else {
</span><span class="token prefix inserted">+</span><span class="token line">        emit(&#39;change&#39;, {})
</span><span class="token prefix inserted">+</span><span class="token line">      }
</span><span class="token prefix inserted">+</span><span class="token line">    }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><p><code>src/views/goods/index.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoodsSku</span> <span class="token attr-name">:goods</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeSku<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> setup () {
</span><span class="token prefix unchanged"> </span><span class="token line">   const goods = useGoods()
</span><span class="token prefix unchanged"> </span><span class="token line">   // sku\u6539\u53D8\u65F6\u5019\u89E6\u53D1
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    const changeSku = (sku) =&gt; {
</span><span class="token prefix inserted">+</span><span class="token line">      if (sku.skuId) {
</span><span class="token prefix inserted">+</span><span class="token line">        goods.value.price = sku.price
</span><span class="token prefix inserted">+</span><span class="token line">        goods.value.oldPrice = sku.oldPrice
</span><span class="token prefix inserted">+</span><span class="token line">        goods.value.inventory = sku.inventory
</span><span class="token prefix inserted">+</span><span class="token line">      }
</span><span class="token prefix inserted">+</span><span class="token line">    }
</span><span class="token prefix inserted">+</span><span class="token line">    return { goods, changeSku }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_14-\u5546\u54C1\u8BE6\u60C5-\u6570\u91CF\u9009\u62E9\u7EC4\u4EF6" tabindex="-1">14-\u5546\u54C1\u8BE6\u60C5-\u6570\u91CF\u9009\u62E9\u7EC4\u4EF6 <a class="header-anchor" href="#_14-\u5546\u54C1\u8BE6\u60C5-\u6570\u91CF\u9009\u62E9\u7EC4\u4EF6" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5C01\u88C5\u4E00\u4E2A\u901A\u7528\u7684\u6570\u91CF\u9009\u4E2D\u7EC4\u4EF6\u3002</p></blockquote><p><img src="`+d+`" alt="1614068683436"></p><p>\u5927\u81F4\u529F\u80FD\u5206\u6790\uFF1A</p><ul><li>\u9ED8\u8BA4\u503C\u4E3A 1</li><li>\u53EF\u9650\u5236\u6700\u5927\u6700\u5C0F\u503C</li><li>\u70B9\u51FB-\u5C31\u662F\u51CF 1 \u70B9\u51FB+\u5C31\u662F\u52A0 1</li><li>\u9700\u8981\u5B8C\u6210 v-model \u5F97\u5B9E\u73B0</li><li>\u5B58\u5728\u65E0 label \u60C5\u51B5</li></ul><p>\u57FA\u7840\u5E03\u5C40\u4EE3\u7801\uFF1A<code>src/components/library/xtx-numbox.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-numbox<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>label<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6570\u91CF<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>numbox<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>-<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">readonly</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>+<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;XtxNumbox&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.xtx-numbox</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token selector">.label</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
    <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.numbox</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token selector">&gt; a</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 29px<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 28px<span class="token punctuation">;</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> #f8f8f8<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
      <span class="token selector">&amp;:first-of-type</span> <span class="token punctuation">{</span>
        <span class="token property">border-right</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&amp;:last-of-type</span> <span class="token punctuation">{</span>
        <span class="token property">border-left</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&gt; input</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 5px<span class="token punctuation">;</span>
      <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><p>\u903B\u8F91\u529F\u80FD\u5B9E\u73B0\uFF1A</p><p><code>src/components/library/xtx-numbox.vue</code></p><div class="language-js line-numbers-mode"><pre><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useVModel <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@vueuse/core&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;XtxNumbox&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">modelValue</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">100</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> <span class="token punctuation">{</span> emit <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> num <span class="token operator">=</span> <span class="token function">useVModel</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> <span class="token string">&#39;modelValue&#39;</span><span class="token punctuation">,</span> emit<span class="token punctuation">)</span>
    <span class="token keyword">const</span> <span class="token function-variable function">changeNum</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> newValue <span class="token operator">=</span> num<span class="token punctuation">.</span>value <span class="token operator">+</span> value
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newValue <span class="token operator">&lt;</span> props<span class="token punctuation">.</span>min<span class="token punctuation">)</span> <span class="token keyword">return</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newValue <span class="token operator">&gt;</span> props<span class="token punctuation">.</span>max<span class="token punctuation">)</span> <span class="token keyword">return</span>
      num<span class="token punctuation">.</span>value <span class="token operator">=</span> newValue
      <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;change&#39;</span><span class="token punctuation">,</span> newValue<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> num<span class="token punctuation">,</span> changeNum <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p><code>src/views/goods/index.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxNumbox</span> <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\u6570\u91CF<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>num<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:max</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.inventory<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code>// \u9009\u62E9\u7684\u6570\u91CF
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    const num = ref(1)
</span><span class="token prefix inserted">+</span><span class="token line">    return { goods, changeSku, num }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_15-\u5546\u54C1\u8BE6\u60C5-\u6309\u94AE\u7EC4\u4EF6" tabindex="-1">15-\u5546\u54C1\u8BE6\u60C5-\u6309\u94AE\u7EC4\u4EF6 <a class="header-anchor" href="#_15-\u5546\u54C1\u8BE6\u60C5-\u6309\u94AE\u7EC4\u4EF6" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5C01\u88C5\u4E00\u4E2A\u901A\u7528\u6309\u94AE\u7EC4\u4EF6\uFF0C\u6709\u5927\u3001\u4E2D\u3001\u5C0F\u3001\u8D85\u5C0F\u56DB\u79CD\u5C3A\u5BF8\uFF0C\u6709\u9ED8\u8BA4\u3001\u4E3B\u8981\u3001\u6B21\u8981\u3001\u7070\u8272\u56DB\u79CD\u7C7B\u578B\u3002</p></blockquote><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u5B8C\u6210\u7EC4\u4EF6\u57FA\u672C\u7ED3\u6784</li><li>\u4ECB\u7ECD\u5404\u4E2A\u53C2\u6570\u7684\u4F7F\u7528</li><li>\u6D4B\u8BD5\u6309\u94AE\u7EC4\u4EF6</li></ul><p>\u843D\u5730\u4EE3\u7801\uFF1A</p><ul><li>\u5C01\u88C5\u7EC4\u4EF6\uFF1A<code>src/components/library/xtx-numbox.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-button ellipsis<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[size, type]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;XtxButton&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;middle&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&quot;default&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.xtx-button</span> <span class="token punctuation">{</span>
  <span class="token property">appearance</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid transparent<span class="token punctuation">;</span>
  <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
  <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.large</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 240px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.middle</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 180px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.small</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.mini</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.default</span> <span class="token punctuation">{</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> #e4e4e4<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.primary</span> <span class="token punctuation">{</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.plain</span> <span class="token punctuation">{</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">lighten</span><span class="token punctuation">(</span><span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">,</span> 50%<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="token punctuation">}</span>
<span class="token selector">.gray</span> <span class="token punctuation">{</span>
  <span class="token property">border-color</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #ccc<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br></div></div><ul><li>\u4F7F\u7528\u7EC4\u4EF6\uFF1A<code>src/views/goods/index.vue</code></li></ul><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;div class=&quot;spec&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;GoodsName :goods=&quot;goods&quot;/&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;GoodsSku :goods=&quot;goods&quot; @change=&quot;changeSku&quot;/&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;XtxNumbox label=&quot;\u6570\u91CF&quot; v-model=&quot;num&quot; :max=&quot;goods.inventory&quot;/&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          &lt;XtxButton type=&quot;primary&quot; style=&quot;margin-top:20px;&quot;&gt;\u52A0\u5165\u8D2D\u7269\u8F66&lt;/XtxButton&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;/div&gt;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_16-\u5546\u54C1\u8BE6\u60C5-\u540C\u7C7B\u63A8\u8350\u7EC4\u4EF6" tabindex="-1">16-\u5546\u54C1\u8BE6\u60C5-\u540C\u7C7B\u63A8\u8350\u7EC4\u4EF6 <a class="header-anchor" href="#_16-\u5546\u54C1\u8BE6\u60C5-\u540C\u7C7B\u63A8\u8350\u7EC4\u4EF6" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5B9E\u73B0\u5546\u54C1\u7684\u540C\u7C7B\u63A8\u8350\u4E0E\u731C\u4F60\u559C\u6B22\u5C55\u793A\u529F\u80FD\u3002</p></blockquote><p><img src="`+v+`" alt="1614068706805"></p><p>\u5927\u81F4\u529F\u80FD\u9700\u6C42\uFF1A</p><ul><li>\u5B8C\u6210\u57FA\u7840\u5E03\u5C40\uFF08\u5934\u90E8\uFF09\uFF0C\u540E\u671F\u6539\u9020 xtx-carousel.vue \u7EC4\u4EF6\u6765\u5C55\u793A\u5546\u54C1\u6548\u679C\u3002</li><li>\u7136\u540E\u53EF\u4EE5\u901A\u8FC7\u662F\u5426\u4F20\u5165\u5546\u54C1 ID \u6765\u533A\u522B\u540C\u7C7B\u63A8\u8350\u548C\u731C\u4F60\u559C\u6B22\u3002</li></ul><p>\u843D\u7684\u4EE3\u7801\u5F00\u59CB\uFF1A</p><ul><li>\u57FA\u7840\u5E03\u5C40 <code>src/views/goods/components/goods-relevant.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-relevant<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u540C\u7C7B\u5546\u54C1\u63A8\u8350<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u6B64\u5904\u4F7F\u7528\u6539\u9020\u540E\u7684xtx-carousel.vue --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u540C\u7C7B\u63A8\u8350\uFF0C\u731C\u4F60\u559C\u6B22</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsRelevant&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.goods-relevant</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> 460px<span class="token punctuation">;</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token selector">.header</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 20px<span class="token punctuation">;</span>
    <span class="token selector">.title</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
      <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.icon</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
      <span class="token property">border-top</span><span class="token punctuation">:</span> 4px solid <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
      <span class="token property">border-right</span><span class="token punctuation">:</span> 4px solid <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
      <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span>45deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token selector">&amp;::before</span> <span class="token punctuation">{</span>
        <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">lighten</span><span class="token punctuation">(</span><span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">,</span> 40%<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><ul><li>\u83B7\u53D6\u6570\u636E\u4F20\u5165 xtx-carousel.vue \u7EC4\u4EF6</li></ul><p><code>src/views/goods/index.vue</code> \u4F20 ID</p><div class="language-vue line-numbers-mode"><pre><code><span class="token comment">&lt;!-- \u5546\u54C1\u63A8\u8350 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoodsRelevant</span> <span class="token attr-name">:goodsId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.id<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>src/api/goods.js</code> \u5B9A\u4E49\u83B7\u53D6\u6570\u636E\u7684 API</p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">/**
 * \u83B7\u53D6\u5546\u54C1\u540C\u7C7B\u63A8\u8350-\u672A\u4F20\u5165ID\u4E3A\u731C\u559C\u6B22
 * @param {String} id - \u5546\u54C1ID
 * @param {Number} limit - \u83B7\u53D6\u6761\u6570
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">findRelGoods</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">16</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">&quot;/goods/relevant&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> limit <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>src/views/goods/components/goods-relevant.vue</code> \u83B7\u53D6\u6570\u636E</p><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;div class=&quot;header&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">     &lt;i class=&quot;icon&quot; /&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      &lt;span class=&quot;title&quot;&gt;{{goodsId?&#39;\u540C\u7C7B\u5546\u54C1\u63A8\u8350&#39;:&#39;\u731C\u4F60\u559C\u6B22&#39;}}&lt;/span&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;/div&gt;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> findRelGoods <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/api/goods&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// \u5F97\u5230\u9700\u8981\u7684\u6570\u636E</span>
<span class="token keyword">const</span> <span class="token function-variable function">useRelGoodsData</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> sliders <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">findRelGoods</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6BCF\u98754\u6761</span>
    <span class="token keyword">const</span> size <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> total <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>length <span class="token operator">/</span> size<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> total<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sliders<span class="token punctuation">.</span>value<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>result<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span>i <span class="token operator">*</span> size<span class="token punctuation">,</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> size<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> sliders<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u540C\u7C7B\u63A8\u8350\uFF0C\u731C\u4F60\u559C\u6B22</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsRelevant&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">goodsId</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> sliders <span class="token operator">=</span> <span class="token function">useRelGoodsData</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>goodsId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> sliders <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><div class="language-vue line-numbers-mode"><pre><code><span class="token comment">&lt;!-- \u6B64\u5904\u4F7F\u7528\u6539\u9020\u540E\u7684xtx-carousel.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxCarousel</span> <span class="token attr-name">:sliders</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sliders<span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">height</span><span class="token punctuation">:</span>380px</span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">auto-play</span> <span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ul><li>\u6539\u9020 xtx-carousel.vue \u7EC4\u4EF6 <code>src/components/library/xtx-carousel.vue</code></li></ul><div class="language-diff line-numbers-mode"><pre><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">        &lt;RouterLink v-if=&quot;item.hrefUrl&quot; :to=&quot;item.hrefUrl&quot;&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">         &lt;img :src=&quot;item.imgUrl&quot; alt=&quot;&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;/RouterLink&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">        &lt;div v-else class=&quot;slider&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">          &lt;RouterLink v-for=&quot;goods in item&quot; :key=&quot;goods.id&quot; :to=&quot;\`/product/\${goods.id}\`&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">            &lt;img :src=&quot;goods.picture&quot; alt=&quot;&quot;&gt;
</span><span class="token prefix inserted">+</span><span class="token line">            &lt;p class=&quot;name ellipsis&quot;&gt;{{goods.name}}&lt;/p&gt;
</span><span class="token prefix inserted">+</span><span class="token line">            &lt;p class=&quot;price&quot;&gt;&amp;yen;{{goods.price}}&lt;/p&gt;
</span><span class="token prefix inserted">+</span><span class="token line">          &lt;/RouterLink&gt;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-less line-numbers-mode"><pre><code><span class="token comment">// \u8F6E\u64AD\u5546\u54C1</span>
<span class="token selector">.slider</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> space<span class="token operator">-</span>around<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 40px<span class="token punctuation">;</span>
  <span class="token selector">&gt; a</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 240px<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token selector">img</span> <span class="token punctuation">{</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 230px <span class="token important">!important</span><span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 230px <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.name</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 40px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.price</span> <span class="token punctuation">{</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">@priceColor</span><span class="token punctuation">;</span>
      <span class="token property">margin-top</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ul><li>\u8986\u76D6 xtx-carousel.vue \u7684\u6837\u5F0F\u5728 <code>src/views/goods/components/goods-relevant.vue</code></li></ul><div class="language-less line-numbers-mode"><pre><code><span class="token selector">:deep(.xtx-carousel)</span> <span class="token punctuation">{</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 380px<span class="token punctuation">;</span>
  <span class="token selector">.carousel</span> <span class="token punctuation">{</span>
    <span class="token selector">&amp;-indicator</span> <span class="token punctuation">{</span>
      <span class="token property">bottom</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
      <span class="token selector">span</span> <span class="token punctuation">{</span>
        <span class="token selector">&amp;.active</span> <span class="token punctuation">{</span>
          <span class="token property">background</span><span class="token punctuation">:</span> <span class="token variable">@xtxColor</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;-btn</span> <span class="token punctuation">{</span>
      <span class="token property">top</span><span class="token punctuation">:</span> 110px<span class="token punctuation">;</span>
      <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
      <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
      <span class="token selector">i</span> <span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>\u6CE8\u610F\uFF1Avue3.0 \u4F7F\u7528\u6DF1\u5EA6\u4F5C\u7528\u9009\u62E9\u5668\u5199\u6CD5 <code>:deep(\u9009\u62E9\u5668)</code></p><h2 id="_17-\u5546\u54C1\u8BE6\u60C5-\u6807\u7B7E\u9875\u7EC4\u4EF6" tabindex="-1">17-\u5546\u54C1\u8BE6\u60C5-\u6807\u7B7E\u9875\u7EC4\u4EF6 <a class="header-anchor" href="#_17-\u5546\u54C1\u8BE6\u60C5-\u6807\u7B7E\u9875\u7EC4\u4EF6" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5B9E\u73B0\u5546\u54C1\u8BE6\u60C5\u7EC4\u4EF6\u548C\u5546\u54C1\u8BC4\u4EF7\u7EC4\u4EF6\u7684\u5207\u6362</p></blockquote><p><img src="`+q+`" alt="1614068786756"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u5B8C\u6210\u57FA\u7840\u7684 tab \u7684\u5BFC\u822A\u5E03\u5C40</li><li>\u5B8C\u6210 tab \u6807\u7B7E\u9875\u7684\u5207\u6362\u6837\u5F0F\u6548\u679C</li><li>\u4F7F\u7528\u52A8\u6001\u7EC4\u4EF6\u5B8C\u6210\u53EF\u5207\u6362 \u8BE6\u60C5 \u548C \u8BC4\u8BBA \u7EC4\u4EF6</li></ul><p>\u843D\u7684\u4EE3\u7801\uFF1A</p><ul><li>\u6807\u7B7E\u9875\u57FA\u7840\u5E03\u5C40 <code>src/vies/goods/components/goods-tabs.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-tabs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5546\u54C1\u8BE6\u60C5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5546\u54C1\u8BC4\u4EF7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>(500+)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u5207\u6362\u5185\u5BB9\u7684\u5730\u65B9 --&gt;</span>  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-less line-numbers-mode"><pre><code><span class="token selector">.goods-tabs</span> <span class="token punctuation">{</span>
  <span class="token property">min-height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token selector">nav</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 70px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 70px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #f5f5f5<span class="token punctuation">;</span>
    <span class="token selector">a</span> <span class="token punctuation">{</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 0 40px<span class="token punctuation">;</span>
      <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
      <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
      <span class="token selector">&gt; span</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">@priceColor</span><span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&amp;:first-child</span> <span class="token punctuation">{</span>
        <span class="token property">border-right</span><span class="token punctuation">:</span> 1px solid #f5f5f5<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&amp;.active</span> <span class="token punctuation">{</span>
        <span class="token selector">&amp;::before</span> <span class="token punctuation">{</span>
          <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
          <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
          <span class="token property">left</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
          <span class="token property">bottom</span><span class="token punctuation">:</span> <span class="token operator">-</span>1px<span class="token punctuation">;</span>
          <span class="token property">width</span><span class="token punctuation">:</span> 72px<span class="token punctuation">;</span>
          <span class="token property">height</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>
          <span class="token property">background</span><span class="token punctuation">:</span> <span class="token variable">@xtxColor</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br></div></div><ul><li>tabs \u7EC4\u4EF6\u5207\u6362 <code>src/vies/goods/components/goods-tabs.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-tabs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
        <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: activeName === <span class="token punctuation">&#39;</span>detail<span class="token punctuation">&#39;</span> }<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickTab(<span class="token punctuation">&#39;</span>detail<span class="token punctuation">&#39;</span>)<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>\u5546\u54C1\u8BE6\u60C5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span>
      <span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
        <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: activeName === <span class="token punctuation">&#39;</span>comment<span class="token punctuation">&#39;</span> }<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clickTab(<span class="token punctuation">&#39;</span>comment<span class="token punctuation">&#39;</span>)<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>\u5546\u54C1\u8BC4\u4EF7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>(500+)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span>
      <span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u8FD9\u4E2A\u4F4D\u7F6E\u663E\u793A\u5BF9\u5E94\u7684\u7EC4\u4EF6 GoodsDetail \u6216\u8005 GoodsComment --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component</span> <span class="token attr-name">:is</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>goods-<span class="token punctuation">&#39;</span> + activeName<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> GoodsDetail <span class="token keyword">from</span> <span class="token string">&quot;./goods-detail&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> GoodsComment <span class="token keyword">from</span> <span class="token string">&quot;./goods-comment&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsTabs&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> GoodsDetail<span class="token punctuation">,</span> GoodsComment <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// detail--&gt;\u8BE6\u60C5   comment--&gt;\u8BC4\u4EF7</span>
    <span class="token keyword">const</span> activeName <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;detail&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">clickTab</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      activeName<span class="token punctuation">.</span>value <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> activeName<span class="token punctuation">,</span> clickTab <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><ul><li>\u4F7F\u7528 tabs \u7EC4\u4EF6 <code>src/views/goods/index.vue</code></li></ul><div class="language-diff line-numbers-mode"><pre><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import GoodsTabs from &#39;./components/goods-tabs&#39;
</span></span>// ... \u7701\u7565
export default {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> name: &#39;XtxGoodsPage&#39;,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  components: { GoodsRelevant, GoodsImage, GoodsSales, GoodsName, GoodsSku, GoodsTabs },
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> setup () {
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">       &lt;div class=&quot;goods-article&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;!-- \u5546\u54C1+\u8BC4\u4EF7 --&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          &lt;GoodsTabs :goods=&quot;goods&quot; /&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">         &lt;!-- \u6CE8\u610F\u4E8B\u9879 --&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;div class=&quot;goods-warn&quot;&gt;&lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">       &lt;/div&gt;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">.goods-tabs {
</span><span class="token prefix deleted">-</span><span class="token line">  min-height: 600px;
</span><span class="token prefix deleted">-</span><span class="token line">  background: #fff;
</span><span class="token prefix deleted">-</span><span class="token line">}
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>\u5B9A\u4E49\u8BE6\u60C5\u7EC4\u4EF6\uFF0C\u8BC4\u4EF7\u7EC4\u4EF6\u3002</li></ul><p><code>src/vies/goods/components/goods-detail.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-detail<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BE6\u60C5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsDetail&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><code>src/vies/goods/components/goods-comment.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-comment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u8BC4\u4EF7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsComment&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_18-\u5546\u54C1\u8BE6\u60C5-\u70ED\u699C\u7EC4\u4EF6" tabindex="-1">18-\u5546\u54C1\u8BE6\u60C5-\u70ED\u699C\u7EC4\u4EF6 <a class="header-anchor" href="#_18-\u5546\u54C1\u8BE6\u60C5-\u70ED\u699C\u7EC4\u4EF6" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5C55\u793A 24 \u5C0F\u65F6\u70ED\u699C\u5546\u54C1\uFF0C\u548C\u5468\u70ED\u699C\u5546\u54C1\u3002</p></blockquote><p><img src="`+f+`" alt="1614068763230"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u5B9A\u4E49\u4E00\u4E2A\u7EC4\u4EF6\uFF0C\u5B8C\u6210\u591A\u4E2A\u7EC4\u4EF6\u5C55\u73B0\u578B\u6001\uFF0C\u6839\u636E\u4F20\u5165\u7EC4\u4EF6\u7684\u7C7B\u578B\u51B3\u5B9A\u3002 <ul><li>1 \u4EE3\u8868 24 \u5C0F\u65F6\u70ED\u9500\u699C 2 \u4EE3\u8868\u5468\u70ED\u9500\u699C 3 \u4EE3\u8868\u603B\u70ED\u9500\u699C</li></ul></li><li>\u83B7\u53D6\u6570\u636E\uFF0C\u5B8C\u6210\u5546\u54C1\u5C55\u793A\u548C\u6807\u9898\u6837\u5F0F\u7684\u8BBE\u7F6E\u3002</li></ul><p>\u843D\u7684\u4EE3\u7801\uFF1A</p><ul><li>\u5B9A\u4E49\u7EC4\u4EF6 <code>src/views/goods/components/goods-hot.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-hot<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsHot&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> titleObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;24\u5C0F\u65F6\u70ED\u9500\u699C&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&quot;\u5468\u70ED\u9500\u699C&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token string">&quot;\u603B\u70ED\u9500\u699C&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> titleObj<span class="token punctuation">[</span>props<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> title <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><ul><li>\u4F7F\u7528\u7EC4\u4EF6 <code>src/views/goods/index.vue</code></li></ul><div class="language-diff line-numbers-mode"><pre><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import GoodsHot from &#39;./components/goods-hot&#39;
</span></span>// ... \u7701\u7565
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> name: &#39;XtxGoodsPage&#39;,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  components: { GoodsRelevant, GoodsImage, GoodsSales, GoodsName, GoodsSku, GoodsTabs, GoodsHot },
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> setup () {
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-vue line-numbers-mode"><pre><code><span class="token comment">&lt;!-- 24\u70ED\u699C+\u4E13\u9898\u63A8\u8350 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-aside<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoodsHot</span> <span class="token attr-name">:goodsId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoodsHot</span> <span class="token attr-name">:goodsId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods.id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>2<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>\u83B7\u53D6\u6570\u636E\uFF0C\u8BBE\u7F6E\u7EC4\u4EF6\u6837\u5F0F</li></ul><p><code>src/api/goods.js</code></p><div class="language-js line-numbers-mode"><pre><code><span class="token comment">/**
 * \u83B7\u53D6\u70ED\u699C\u5546\u54C1
 * @param {Number} type - 1\u4EE3\u886824\u5C0F\u65F6\u70ED\u9500\u699C 2\u4EE3\u8868\u5468\u70ED\u9500\u699C 3\u4EE3\u8868\u603B\u70ED\u9500\u699C
 * @param {Number} limit - \u83B7\u53D6\u4E2A\u6570
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">findHotGoods</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> id<span class="token punctuation">,</span> type<span class="token punctuation">,</span> limit <span class="token operator">=</span> <span class="token number">3</span> <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token string">&quot;/goods/hot&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">,</span> type<span class="token punctuation">,</span> limit <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><code>src/views/goods/components/goot-hot.vue</code></p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> GoodsItem <span class="token keyword">from</span> <span class="token string">&quot;../../category/components/goods-item&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> findHotGoods <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/api/goods&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsHot&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">goodsId</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> String<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span> GoodsItem <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u5904\u7406\u6807\u9898</span>
    <span class="token keyword">const</span> titleObj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;24\u5C0F\u65F6\u70ED\u9500\u699C&quot;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&quot;\u5468\u70ED\u9500\u699C&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token operator">:</span> <span class="token string">&quot;\u603B\u70ED\u9500\u699C&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> title <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> titleObj<span class="token punctuation">[</span>props<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// \u5546\u54C1\u5217\u8868</span>
    <span class="token keyword">const</span> goodsList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">findHotGoods</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> props<span class="token punctuation">.</span>goodsId<span class="token punctuation">,</span> <span class="token literal-property property">type</span><span class="token operator">:</span> props<span class="token punctuation">.</span>type <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      goodsList<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        item<span class="token punctuation">.</span>tag <span class="token operator">=</span> item<span class="token punctuation">.</span>desc<span class="token punctuation">;</span>
        <span class="token keyword">return</span> item<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> title<span class="token punctuation">,</span> goodsList <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-hot<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goodsList<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>GoodsItem</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in goodsList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:goods</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token punctuation">.</span>goods<span class="token operator">-</span>hot <span class="token punctuation">{</span>
  h3 <span class="token punctuation">{</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 70px<span class="token punctuation">;</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> @helpColor<span class="token punctuation">;</span>
    <span class="token literal-property property">color</span><span class="token operator">:</span> #fff<span class="token punctuation">;</span>
    font<span class="token operator">-</span>size<span class="token operator">:</span> 18px<span class="token punctuation">;</span>
    line<span class="token operator">-</span>height<span class="token operator">:</span> 70px<span class="token punctuation">;</span>
    padding<span class="token operator">-</span>left<span class="token operator">:</span> 25px<span class="token punctuation">;</span>
    margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
    font<span class="token operator">-</span>weight<span class="token operator">:</span> normal<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">:</span><span class="token operator">:</span>v<span class="token operator">-</span>deep <span class="token punctuation">.</span>goods<span class="token operator">-</span>item <span class="token punctuation">{</span>
    <span class="token literal-property property">background</span><span class="token operator">:</span> #fff<span class="token punctuation">;</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span><span class="token punctuation">;</span>
    margin<span class="token operator">-</span>bottom<span class="token operator">:</span> 10px<span class="token punctuation">;</span>
    img <span class="token punctuation">{</span>
      <span class="token literal-property property">width</span><span class="token operator">:</span> 200px<span class="token punctuation">;</span>
      <span class="token literal-property property">height</span><span class="token operator">:</span> 200px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    p <span class="token punctuation">{</span>
      <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token number">0</span> 10px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&amp;</span><span class="token operator">:</span>hover <span class="token punctuation">{</span>
      <span class="token literal-property property">transform</span><span class="token operator">:</span> none<span class="token punctuation">;</span>
      box<span class="token operator">-</span>shadow<span class="token operator">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="_19-\u5546\u54C1\u8BE6\u60C5-\u8BE6\u60C5\u7EC4\u4EF6" tabindex="-1">19-\u5546\u54C1\u8BE6\u60C5-\u8BE6\u60C5\u7EC4\u4EF6 <a class="header-anchor" href="#_19-\u5546\u54C1\u8BE6\u60C5-\u8BE6\u60C5\u7EC4\u4EF6" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5C55\u793A\u5546\u54C1\u5C5E\u6027\u548C\u5546\u54C1\u8BE6\u60C5\u3002</p></blockquote><p><img src="`+y+`" alt="1614069259289"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u5B8C\u6210\u57FA\u7840\u5E03\u5C40\uFF0C\u4E3B\u8981\u662F\u5C5E\u6027\uFF0C\u8BE6\u60C5\u662F\u56FE\u7247\u3002</li><li><code>goods/index.vue</code> \u63D0\u4F9B goods \u6570\u636E\uFF0C\u5B50\u5B59\u7EC4\u4EF6\u6CE8\u5165 goods \u6570\u636E\uFF0C\u6E32\u67D3\u5C55\u793A\u5373\u53EF\u3002</li></ul><p>\u843D\u7684\u4EE3\u7801\uFF1A</p><ul><li>\u4F20\u9012 goods \u6570\u636E</li></ul><p><code>src/views/goods/index.vue</code> setup \u4E2D\u63D0\u4F9B\u6570\u636E</p><div class="language-js line-numbers-mode"><pre><code><span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&quot;goods&quot;</span><span class="token punctuation">,</span> goods<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>\u4F7F\u7528 goods \u6570\u636E\uFF0C\u5C55\u793A\u8BC4\u4EF7\u6570\u91CF</li></ul><p><code>src/views/goods/components/goods-tabs.vue</code></p><div class="language-js line-numbers-mode"><pre><code>  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> goods <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;goods&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> goods <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    &gt;\u5546\u54C1\u8BC4\u4EF7&lt;span&gt;({{goods.commentCount}})&lt;/span&gt;&lt;/a
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>\u4F7F\u7528 goods \u6570\u636E\uFF0C\u5C55\u793A\u5546\u54C1\u8BE6\u60C5</li></ul><p><code>src/views/goods/components/goods-detail.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-detail<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u5C5E\u6027 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>attrs<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in goods.details.properties<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.value<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dt<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ item.name }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ item.value }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u56FE\u7247 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
      <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in goods.details.pictures<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsDetail&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> goods <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&quot;goods&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> goods <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.goods-detail</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
  <span class="token selector">.attrs</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token selector">li</span> <span class="token punctuation">{</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
      <span class="token selector">.dt</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.dd</span> <span class="token punctuation">{</span>
        <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&gt; img</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><h2 id="_20-\u5546\u54C1\u8BE6\u60C5-\u6CE8\u610F\u4E8B\u9879\u7EC4\u4EF6" tabindex="-1">20-\u5546\u54C1\u8BE6\u60C5-\u6CE8\u610F\u4E8B\u9879\u7EC4\u4EF6 <a class="header-anchor" href="#_20-\u5546\u54C1\u8BE6\u60C5-\u6CE8\u610F\u4E8B\u9879\u7EC4\u4EF6" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5C55\u793A\u8D2D\u4E70\u5546\u54C1\u7684\u6CE8\u610F\u4E8B\u9879\u3002</p></blockquote><p><code>src/views/goods/index.vue</code></p><div class="language-diff line-numbers-mode"><pre><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import GoodsWarn from &#39;./components/goods-warn&#39;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> name: &#39;XtxGoodsPage&#39;,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  components: { GoodsRelevant, GoodsImage, GoodsSales, GoodsName, GoodsSku, GoodsTabs, GoodsHot, GoodsWarn },
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> setup () {
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-"><pre><code>          &lt;!-- \u6CE8\u610F\u4E8B\u9879 --&gt;
+          &lt;GoodsWarn /&gt;
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><code>src/views/goods/components/goods-warn.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- \u6CE8\u610F\u4E8B\u9879 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-warn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>\u6CE8\u610F\u4E8B\u9879<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u2022 \u8D2D\u4E70\u8FD0\u8D39\u5982\u4F55\u6536\u53D6\uFF1F<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      \u5355\u7B14\u8BA2\u5355\u91D1\u989D(\u4E0D\u542B\u8FD0\u8D39)\u6EE188\u5143\u514D\u90AE\u8D39\uFF1B\u4E0D\u6EE188\u5143\uFF0C\u6BCF\u5355\u6536\u53D610\u5143\u8FD0\u8D39\u3002\uFF08\u6E2F\u6FB3\u53F0\u5730\u533A\u9700\u6EE1500\u5143\u514D\u90AE\u8D39\uFF1B\u4E0D\u6EE1500\u5143\uFF0C\u6BCF\u5355\u6536\u53D630\u5143\u8FD0\u8D39)
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u2022 \u4F7F\u7528\u4EC0\u4E48\u5FEB\u9012\u53D1\u8D27?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u9ED8\u8BA4\u4F7F\u7528\u987A\u4E30\u5FEB\u9012\u53D1\u8D27(\u4E2A\u522B\u5546\u54C1\u4F7F\u7528\u5176\u4ED6\u5FEB\u9012\uFF09<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>\u914D\u9001\u8303\u56F4\u8986\u76D6\u5168\u56FD\u5927\u90E8\u5206\u5730\u533A(\u6E2F\u6FB3\u53F0\u5730\u533A\u9664\u5916\uFF09<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u2022 \u5982\u4F55\u7533\u8BF7\u9000\u8D27?<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      1.\u81EA\u6536\u5230\u5546\u54C1\u4E4B\u65E5\u8D7730\u65E5\u5185\uFF0C\u987E\u5BA2\u53EF\u7533\u8BF7\u65E0\u5FE7\u9000\u8D27\uFF0C\u9000\u6B3E\u5C06\u539F\u8DEF\u8FD4\u8FD8\uFF0C\u4E0D\u540C\u7684\u94F6\u884C\u5904\u7406\u65F6\u95F4\u4E0D\u540C\uFF0C\u9884\u8BA11-5\u4E2A\u5DE5\u4F5C\u65E5\u5230\u8D26\uFF1B
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>2.\u5185\u88E4\u548C\u98DF\u54C1\u7B49\u7279\u6B8A\u5546\u54C1\u65E0\u8D28\u91CF\u95EE\u9898\u4E0D\u652F\u6301\u9000\u8D27\uFF1B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      3.\u9000\u8D27\u6D41\u7A0B\uFF1A
      \u786E\u8BA4\u6536\u8D27-\u7533\u8BF7\u9000\u8D27-\u5BA2\u670D\u5BA1\u6838\u901A\u8FC7-\u7528\u6237\u5BC4\u56DE\u5546\u54C1-\u4ED3\u5E93\u7B7E\u6536\u9A8C\u8D27-\u9000\u6B3E\u5BA1\u6838-\u9000\u6B3E\u5B8C\u6210\uFF1B
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
      4.\u56E0\u552F\u54C1\u4F1A\u4EA7\u751F\u7684\u9000\u8D27\uFF0C\u5982\u8D28\u91CF\u95EE\u9898\uFF0C\u9000\u8D27\u90AE\u8D39\u7531\u552F\u54C1\u4F1A\u627F\u62C5\uFF0C\u9000\u6B3E\u5B8C\u6210\u540E\u4F1A\u4EE5\u73B0\u91D1\u5238\u7684\u5F62\u5F0F\u62A5\u9500\u3002\u56E0\u5BA2\u6237\u4E2A\u4EBA\u539F\u56E0\u4EA7\u751F\u7684\u9000\u8D27\uFF0C\u8D2D\u4E70\u548C\u5BC4\u56DE\u8FD0\u8D39\u7531\u5BA2\u6237\u4E2A\u4EBA\u627F\u62C5\u3002
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.goods-warn</span> <span class="token punctuation">{</span>
  <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
  <span class="token selector">h3</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 70px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 70px<span class="token punctuation">;</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #f5f5f5<span class="token punctuation">;</span>
    <span class="token property">padding-left</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
    <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">p</span> <span class="token punctuation">{</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0 25px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
    <span class="token selector">&amp;.tit</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div><h2 id="_21-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u5934\u90E8\u6E32\u67D3" tabindex="-1">21-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u5934\u90E8\u6E32\u67D3 <a class="header-anchor" href="#_21-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u5934\u90E8\u6E32\u67D3" aria-hidden="true">#</a></h2><p><img src="`+h+`" alt="1614132765458"></p><blockquote><p>\u76EE\u7684\uFF1A\u6839\u636E\u540E\u53F0\u8FD4\u56DE\u7684\u8BC4\u4EF7\u4FE1\u606F\u6E32\u67D3\u8BC4\u4EF7\u5934\u90E8\u5185\u5BB9\u3002</p></blockquote><p><code>yapi</code> \u5E73\u53F0\u53EF\u63D0\u4F9B\u6A21\u62DF\u63A5\u53E3\uFF0C\u5F53\u540E\u53F0\u63A5\u53E3\u672A\u5F00\u53D1\u5B8C\u6BD5\u6216\u8005\u6CA1\u6709\u6570\u636E\u7684\u60C5\u51B5\u4E0B\uFF0C\u53EF\u4EE5\u652F\u6301\u524D\u7AEF\u7684\u5F00\u53D1\u3002</p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u5B8C\u6210\u9759\u6001\u5E03\u5C40</li><li>\u5B9A\u4E49 API \u63A5\u53E3</li><li>\u83B7\u53D6\u6570\u636E\uFF0C\u5904\u7406\u5B8C\u6BD5\uFF0C\u63D0\u4F9B\u7ED9\u6A21\u7248</li><li>\u6E32\u67D3\u6A21\u7248</li></ul><p>\u843D\u7684\u4EE3\u7801\uFF1A</p><ul><li>\u5E03\u5C40 <code>src/views/goods/components/goods-comment.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-comment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>head<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u4EBA\u8D2D\u4E70<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>99.99%<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u597D\u8BC4\u7387<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tags<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dt<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5927\u5BB6\u90FD\u5728\u8BF4\uFF1A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5168\u90E8\u8BC4\u4EF7\uFF081000\uFF09<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u597D\u5403\uFF081000\uFF09<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4FBF\u5B9C\uFF081000\uFF09<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5F88\u597D\uFF081000\uFF09<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u518D\u6765\u4E00\u6B21\uFF081000\uFF09<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5FEB\u9012\u68D2\uFF081000\uFF09<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sort<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u6392\u5E8F\uFF1A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u9ED8\u8BA4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6700\u65B0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u6700\u70ED<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsComment&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.goods-comment</span> <span class="token punctuation">{</span>
  <span class="token selector">.head</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 30px 0<span class="token punctuation">;</span>
    <span class="token selector">.data</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 340px<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
      <span class="token selector">p</span> <span class="token punctuation">{</span>
        <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token selector">span</span> <span class="token punctuation">{</span>
          <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
          <span class="token selector">&amp;:first-child</span> <span class="token punctuation">{</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> 32px<span class="token punctuation">;</span>
            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@priceColor</span><span class="token punctuation">;</span></span>
          <span class="token punctuation">}</span>
          <span class="token selector">&amp;:last-child</span> <span class="token punctuation">{</span>
            <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.tags</span> <span class="token punctuation">{</span>
      <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">border-left</span><span class="token punctuation">:</span> 1px solid #f5f5f5<span class="token punctuation">;</span>
      <span class="token selector">.dt</span> <span class="token punctuation">{</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 42px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">.dd</span> <span class="token punctuation">{</span>
        <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
        <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
        <span class="token selector">&gt; a</span> <span class="token punctuation">{</span>
          <span class="token property">width</span><span class="token punctuation">:</span> 132px<span class="token punctuation">;</span>
          <span class="token property">height</span><span class="token punctuation">:</span> 42px<span class="token punctuation">;</span>
          <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
          <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
          <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
          <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
          <span class="token property">background</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
          <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
          <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
          <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
          <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
            <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
            <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">lighten</span><span class="token punctuation">(</span><span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">,</span> 50%<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
            <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
          <span class="token punctuation">}</span>
          <span class="token selector">&amp;.active</span> <span class="token punctuation">{</span>
            <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
            <span class="token property">background</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
            <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.sort</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
    <span class="token property">border-top</span><span class="token punctuation">:</span> 1px solid #f5f5f5<span class="token punctuation">;</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #f5f5f5<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0 20px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
    <span class="token selector">&gt; span</span> <span class="token punctuation">{</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">&gt; a</span> <span class="token punctuation">{</span>
      <span class="token property">margin-left</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
      <span class="token selector">&amp;.active,
      &amp;:hover</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br></div></div><ul><li>\u63A5\u53E3 <code>src/api/goods.js</code></li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token comment">/**
 * \u83B7\u53D6\u5546\u54C1\u7684\u8BC4\u4EF7\u7EDF\u8BA1\u4FE1\u606F
 * @param {String} id - \u5546\u54C1ID
 */</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">findCommentInfoByGoods</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">/goods/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/evaluate</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// https://mock.boxuegu.com/mock/1175/goods/\${id}/evaluate</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>\u83B7\u53D6\u6570\u636E\uFF0C\u5904\u7406\u6570\u636E <code>src/views/goods/components/goods-comment.vue</code></li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> findCommentInfoByGoods <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/api/goods&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">getCommentInfo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> commentInfo <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">findCommentInfoByGoods</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>goods<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// type \u7684\u76EE\u7684\u662F\u5C06\u6765\u70B9\u51FB\u53EF\u4EE5\u533A\u5206\u70B9\u7684\u662F\u4E0D\u662F\u6807\u7B7E</span>
    data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>tags<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;img&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;\u6709\u56FE&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">tagCount</span><span class="token operator">:</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>hasPictureCount<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>tags<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;all&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&quot;\u5168\u90E8\u8BC4\u4EF7&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">tagCount</span><span class="token operator">:</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>evaluateCount<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    commentInfo<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> commentInfo<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsComment&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">goods</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Object<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> commentInfo <span class="token operator">=</span> <span class="token function">getCommentInfo</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> commentInfo <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><ul><li>\u6E32\u67D3\u6A21\u7248 + tag \u9009\u4E2D\u6548\u679C <code>src/views/goods/components/goods-comment.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code>    <span class="token comment">&lt;!-- \u5934\u90E8 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>head<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>commentInfo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{commentInfo.salesCount}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u4EBA\u8D2D\u4E70<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{commentInfo.praisePercent}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u597D\u8BC4\u7387<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>tags<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dt<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u5927\u5BB6\u90FD\u5728\u8BF4\uFF1A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
            <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>(item,i) in commentInfo.tags<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.title<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{active:currTagIndex===i}<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeTag(i)<span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">&gt;</span></span>
            {{item.title}}\uFF08{{item.tagCount}}\uFF09
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- \u6392\u5E8F --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sort<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>commentInfo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> setup (props) {
</span><span class="token prefix unchanged"> </span><span class="token line">   const commentInfo = getCommentInfo(props)
</span><span class="token prefix unchanged"> </span><span class="token line">   // \u8BB0\u5F55\u5F53\u524D\u6FC0\u6D3B\u7684\u7D22\u5F15
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    const currTagIndex = ref(0)
</span><span class="token prefix inserted">+</span><span class="token line">    const changeTag = (i) =&gt; {
</span><span class="token prefix inserted">+</span><span class="token line">      currTagIndex.value = i
</span><span class="token prefix inserted">+</span><span class="token line">    }
</span><span class="token prefix inserted">+</span><span class="token line">    return { commentInfo, currTagIndex, changeTag }
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_22-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u5B9E\u73B0\u5217\u8868" tabindex="-1">22-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u5B9E\u73B0\u5217\u8868 <a class="header-anchor" href="#_22-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u5B9E\u73B0\u5217\u8868" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5B8C\u6210\u5217\u8868\u6E32\u67D3\uFF0C\u7B5B\u9009\u548C\u6392\u5E8F\u3002</p></blockquote><p><img src="`+x+`" alt="1614241264668"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u5217\u8868\u57FA\u7840\u5E03\u5C40</li><li>\u7B5B\u9009\u6761\u4EF6\u6570\u636E\u51C6\u5907</li><li>\u4F55\u65F6\u53BB\u83B7\u53D6\u6570\u636E\uFF1F <ul><li>\u7EC4\u4EF6\u521D\u59CB\u5316</li><li>\u70B9\u6807\u7B7E</li><li>\u70B9\u6392\u5E8F</li></ul></li><li>\u6E32\u67D3\u5217\u8868</li></ul><p>\u843D\u5730\u4EE3\u7801\uFF1A</p><ul><li>\u5217\u8868\u57FA\u7840\u5E03\u5C40</li></ul><div class="language-vue line-numbers-mode"><pre><code>    <span class="token comment">&lt;!-- \u5217\u8868 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://zhoushugang.gitee.io/erabbit-client-pc-static/uploads/avatar_1.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u5154****m<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>score<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-wjx01<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-wjx01<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-wjx01<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-wjx01<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-wjx02<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>attr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u989C\u8272\uFF1A\u9ED1\u8272 \u5C3A\u7801\uFF1AM<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u7F51\u6613\u4E91app\u4E0A\u8FD9\u6B3E\u8033\u673A\u975E\u5E38\u4E0D\u9519 \u65B0\u4EBA\u4E0B\u8F7D\u7F51\u6613\u4E91\u8D2D\u4E70\u8FD9\u6B3E\u8033\u673A\u4F18\u60E0\u5927 \u800C\u4E14\u8033\u673A\u{1F3A7}\u786E\u5B9E\u6B63\u54C1 \u97F3\u8D28\u7279\u522B\u597D \u6234\u4E0A\u8FD9\u6B3E\u8033\u673A \u542C\u97F3\u4E50\u770B\u7535\u5F71\u6548\u679C\u58F0\u97F3\u771F\u662F\u592A\u68D2\u4E86 \u65E0\u7EBF\u65B9\u4FBF \u5C0F\u76D2\u81EA\u52A8\u5145\u7535 \u6700\u4E3B\u8981\u662F\u8D28\u91CF\u597D\u97F3\u8D28\u68D2 \u60F3\u8981\u4E70\u8033\u673A\u7684\u653E\u5FC3\u62CD \u97F3\u6548\u5DF4\u5DF4\u6EF4 \u8001\u68D2\u4E86<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>2020-10-10 10:11:22<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zan<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-dianzan<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>100<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><div class="language-less line-numbers-mode"><pre><code><span class="token selector">.list</span> <span class="token punctuation">{</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0 20px<span class="token punctuation">;</span>
  <span class="token selector">.item</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 25px 10px<span class="token punctuation">;</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #f5f5f5<span class="token punctuation">;</span>
    <span class="token selector">.user</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 160px<span class="token punctuation">;</span>
      <span class="token selector">img</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
        <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">span</span> <span class="token punctuation">{</span>
        <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.body</span> <span class="token punctuation">{</span>
      <span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
      <span class="token selector">.score</span> <span class="token punctuation">{</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
        <span class="token selector">.iconfont</span> <span class="token punctuation">{</span>
          <span class="token property">color</span><span class="token punctuation">:</span> #ff9240<span class="token punctuation">;</span>
          <span class="token property">padding-right</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token selector">.attr</span> <span class="token punctuation">{</span>
          <span class="token property">padding-left</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
          <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.text</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector">.time</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> #999<span class="token punctuation">;</span>
      <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
      <span class="token property">justify-content</span><span class="token punctuation">:</span> space<span class="token operator">-</span>between<span class="token punctuation">;</span>
      <span class="token property">margin-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br></div></div><ul><li><p>\u7B5B\u9009\u6761\u4EF6\u6570\u636E\u51C6\u5907</p><ul><li>\u5B9A\u4E49\u7B5B\u9009\u6761\u4EF6</li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u7B5B\u9009\u6761\u4EF6\u51C6\u5907</span>
<span class="token keyword">const</span> reqParams <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">pageSize</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token literal-property property">hasPicture</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token literal-property property">tag</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sortField</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>\u6536\u96C6\u6392\u5E8F\u6761\u4EF6</p></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token comment">&lt;!-- \u6392\u5E8F --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>sort<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>\u6392\u5E8F\uFF1A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
          <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeSort(null)<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{active:reqParams.sortField===null}<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>\u9ED8\u8BA4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
          <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeSort(<span class="token punctuation">&#39;</span>praiseCount<span class="token punctuation">&#39;</span>)<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{active:reqParams.sortField===<span class="token punctuation">&#39;</span>praiseCount<span class="token punctuation">&#39;</span>}<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>\u6700\u70ED<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
          <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changeSort(<span class="token punctuation">&#39;</span>createTime<span class="token punctuation">&#39;</span>)<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{active:reqParams.sortField===<span class="token punctuation">&#39;</span>createTime<span class="token punctuation">&#39;</span>}<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>\u6700\u65B0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u6539\u53D8\u6392\u5E8F</span>
<span class="token keyword">const</span> <span class="token function-variable function">changeSort</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">type</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  reqParams<span class="token punctuation">.</span>sortField <span class="token operator">=</span> type<span class="token punctuation">;</span>
  reqParams<span class="token punctuation">.</span>page <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>\u6536\u96C6\u6807\u7B7E\u548C\u662F\u5426\u6709\u56FE\u6761\u4EF6</li></ul><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     const changeTag = (i) =&gt; {
</span><span class="token prefix unchanged"> </span><span class="token line">       currTagIndex.value = i
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      // \u8BBE\u7F6E\u6709\u56FE\u548C\u6807\u7B7E\u6761\u4EF6
</span><span class="token prefix inserted">+</span><span class="token line">      const currTag = commentInfo.value.tags[i]
</span><span class="token prefix inserted">+</span><span class="token line">      if (currTag.type === &#39;all&#39;) {
</span><span class="token prefix inserted">+</span><span class="token line">        reqParams.hasPicture = false
</span><span class="token prefix inserted">+</span><span class="token line">        reqParams.tag = null
</span><span class="token prefix inserted">+</span><span class="token line">      } else if (currTag.type === &#39;img&#39;) {
</span><span class="token prefix inserted">+</span><span class="token line">        reqParams.hasPicture = true
</span><span class="token prefix inserted">+</span><span class="token line">        reqParams.tag = null
</span><span class="token prefix inserted">+</span><span class="token line">      } else {
</span><span class="token prefix inserted">+</span><span class="token line">        reqParams.hasPicture = false
</span><span class="token prefix inserted">+</span><span class="token line">        reqParams.tag = currTag.title
</span><span class="token prefix inserted">+</span><span class="token line">      }
</span><span class="token prefix inserted">+</span><span class="token line">      reqParams.page = 1
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ul><li>\u83B7\u53D6\u6570\u636E\uFF08\u5F53\u7EC4\u4EF6\u521D\u59CB\u5316\u7684\u65F6\u5019\uFF0C\u7B5B\u9009\u6761\u4EF6\u6539\u53D8\u7684\u65F6\u5019\uFF09</li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u521D\u59CB\u5316\u6216\u8005\u7B5B\u9009\u6761\u4EF6\u6539\u53D8\u540E\uFF0C\u83B7\u53D6\u5217\u8868\u6570\u636E\u3002</span>
<span class="token keyword">const</span> commentList <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  reqParams<span class="token punctuation">,</span>
  <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">findCommentListByGoods</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>goods<span class="token punctuation">.</span>id<span class="token punctuation">,</span> reqParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
    commentList<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">.</span>result<span class="token punctuation">.</span>items<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li><p>\u6E32\u67D3\u6A21\u7248</p><ul><li>\u5904\u7406\u6570\u636E\uFF0C\u6635\u79F0\u52A0*\u53F7\uFF0C\u89C4\u683C\u62FC\u63A5\u5B57\u7B26\u4E32\u3002</li></ul><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u5B9A\u4E49\u8F6C\u6362\u6570\u636E\u7684\u51FD\u6570\uFF08\u5BF9\u5E94vue2.0\u7684\u8FC7\u6EE4\u5668\uFF09</span>
<span class="token keyword">const</span> <span class="token function-variable function">formatSpecs</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">specs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> specs<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">p<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>p<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>c<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">\uFF1A</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>c<span class="token punctuation">.</span>nameValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">formatNickname</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">nickname</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> nickname<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;****&quot;</span> <span class="token operator">+</span> nickname<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u6240\u6709\u6570\u636E\u548C\u51FD\u6570</p><div class="language-js line-numbers-mode"><pre><code><span class="token keyword">return</span> <span class="token punctuation">{</span>
  commentInfo<span class="token punctuation">,</span>
  currentTagIndex<span class="token punctuation">,</span>
  changeTag<span class="token punctuation">,</span>
  reqParams<span class="token punctuation">,</span>
  commentList<span class="token punctuation">,</span>
  changeSort<span class="token punctuation">,</span>
  formatSpecs<span class="token punctuation">,</span>
  formatNickname<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>\u6E32\u67D3 html</li></ul><div class="language-vue line-numbers-mode"><pre><code>  <span class="token comment">&lt;!-- \u5217\u8868 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item in commentList<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.id<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item.member.avatar<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{formatNickname(item.member.nickname)}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>score<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i in item.score<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i+<span class="token punctuation">&#39;</span>1<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-wjx01<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i in 5-item.score<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i+<span class="token punctuation">&#39;</span>2<span class="token punctuation">&#39;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-wjx02<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>attr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{formatSpecs(item.orderInfo.specs)}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{item.content}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>time<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>{{item.createTime}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>zan<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-dianzan<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span> {{item.praiseCount}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li></ul><h2 id="_23-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u56FE\u7247\u9884\u89C8" tabindex="-1">23-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u56FE\u7247\u9884\u89C8 <a class="header-anchor" href="#_23-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u56FE\u7247\u9884\u89C8" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5C01\u88C5\u4E00\u4E2A\u7EC4\u4EF6\u5C55\u793A \u56FE\u7247\u5217\u8868 \u548C \u9884\u89C8\u56FE\u7247 \u529F\u80FD\u3002</p></blockquote><p><img src="`+w+`" alt="1614241295071"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u51C6\u5907\u4E00\u4E2A\u7EC4\u4EF6\u5BFC\u5165 goods-comment.vue \u4F7F\u7528\u8D77\u6765\uFF0C\u4F20\u5165\u56FE\u7247\u6570\u636E</li><li>\u5C55\u793A\u56FE\u7247\u5217\u8868\uFF0C\u548C\u9009\u4E2D\u56FE\u7247\u529F\u80FD\u3002</li><li>\u63D0\u4F9B\u56FE\u7247\u9884\u89C8\u529F\u80FD\u548C\u5173\u95ED\u56FE\u7247\u9884\u89C8\u3002</li></ul><p>\u843D\u7684\u4EE3\u7801\uFF1A</p><ul><li>\u5C55\u793A\u56FE\u7247\u5217\u8868\u548C\u9009\u4E2D\u6548\u679C\u5B9E\u73B0</li></ul><p><code>src/views/goods/goods-comment-image.vue</code></p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goods-comment-image<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
        <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: currImage === url }<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currImage = url<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url in pictures<span class="token punctuation">&quot;</span></span>
        <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span>
      <span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>url<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preview<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;GoodsCommentImage&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">pictures</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Array<span class="token punctuation">,</span>
      <span class="token function-variable function">default</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> currImage <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> currImage <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.goods-comment-image</span> <span class="token punctuation">{</span>
  <span class="token selector">.list</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
    <span class="token property">margin-top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token selector">a</span> <span class="token punctuation">{</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
      <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
      <span class="token property">margin-right</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
      <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
      <span class="token selector">img</span> <span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
        <span class="token property">object-fit</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">&amp;.active</span> <span class="token punctuation">{</span>
        <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><p><code>src/views/goods/goods-comment.vue</code></p><div class="language-diff line-numbers-mode"><pre><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">import GoodsCommentImage from &#39;./goods-comment-image&#39;
</span></span>// ...
export default {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> name: &#39;GoodsComment&#39;,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  components: { GoodsCommentImage },
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> props: {
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">         &lt;div class=&quot;text&quot;&gt;{{item.content}}&lt;/div&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">         &lt;!-- \u4F7F\u7528\u56FE\u7247\u9884\u89C8\u7EC4\u4EF6 --&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">          &lt;GoodsCommentImage v-if=&quot;item.pictures.length&quot; :pictures=&quot;item.pictures&quot; /&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">         &lt;div class=&quot;time&quot;&gt;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>\u5B9E\u73B0\u9884\u89C8\u56FE\u7247\u548C\u5173\u95ED\u9884\u89C8</li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>preview<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currImage<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">:src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currImage<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>currImage=null<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-close-new<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-less line-numbers-mode"><pre><code><span class="token selector">.preview</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 480px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 480px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
  <span class="token property">background</span><span class="token punctuation">:</span> #f8f8f8<span class="token punctuation">;</span>
  <span class="token property">margin-bottom</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token selector">img</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">object-fit</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">i</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div><h2 id="_24-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u2605-\u5206\u9875\u7EC4\u4EF6" tabindex="-1">24-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u2605 \u5206\u9875\u7EC4\u4EF6 <a class="header-anchor" href="#_24-\u5546\u54C1\u8BE6\u60C5-\u8BC4\u4EF7\u7EC4\u4EF6-\u2605-\u5206\u9875\u7EC4\u4EF6" aria-hidden="true">#</a></h2><blockquote><p>\u76EE\u7684\uFF1A\u5C01\u88C5\u4E00\u4E2A\u7EDF\u4E00\u7684\u5206\u9875\u7EC4\u4EF6\u3002</p></blockquote><p><img src="`+A+`" alt="1614319762984"></p><p>\u5927\u81F4\u6B65\u9AA4\uFF1A</p><ul><li>\u5206\u9875\u57FA\u7840\u5E03\u5C40\uFF0C\u4F9D\u8D56\u6570\u636E\u5206\u6790\u3002</li><li>\u5206\u9875\u5185\u90E8\u903B\u8F91\uFF0C\u5B8C\u6210\u5207\u6362\u6548\u679C\u3002</li><li>\u63A5\u6536\u5916\u90E8\u6570\u636E\uFF0C\u63D0\u4F9B\u5206\u9875\u4E8B\u4EF6\u3002</li></ul><p>\u843D\u7684\u4EE3\u7801\uFF1A</p><ul><li>\u5206\u9875\u57FA\u7840\u5E03\u5C40\uFF0C\u4F9D\u8D56\u6570\u636E\u5206\u6790 <code>src/components/library/xtx-pagination.vue</code></li></ul><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-pagination<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4E0A\u4E00\u9875<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4E0B\u4E00\u9875<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;XtxPagination&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>less<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.xtx-pagination</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
  <span class="token selector">&gt; a</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 5px 10px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #e4e4e4<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 4px<span class="token punctuation">;</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
      <span class="token property">color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;.active</span> <span class="token punctuation">{</span>
      <span class="token property">background</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
      <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
      <span class="token property">border-color</span><span class="token punctuation">:</span> <span class="token atrule"><span class="token rule">@xtxColor</span><span class="token punctuation">;</span></span>
    <span class="token punctuation">}</span>
    <span class="token selector">&amp;.disabled</span> <span class="token punctuation">{</span>
      <span class="token property">cursor</span><span class="token punctuation">:</span> not-allowed<span class="token punctuation">;</span>
      <span class="token property">opacity</span><span class="token punctuation">:</span> 0.4<span class="token punctuation">;</span>
      <span class="token selector">&amp;:hover</span> <span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> #333<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token selector">&gt; span</span> <span class="token punctuation">{</span>
    <span class="token property">margin-right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><p><img src="`+C+`" alt="1614245759420"></p><ul><li>\u5206\u9875\u5185\u90E8\u903B\u8F91\uFF0C\u5B8C\u6210\u5207\u6362\u6548\u679C <code>src/components/library/xtx-pagination.vue</code></li></ul><p>1\uFF09\u51C6\u5907\u6E32\u67D3\u6570\u636E</p><div class="language-js line-numbers-mode"><pre><code>  <span class="token function">setup</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u603B\u6761\u6570</span>
    <span class="token keyword">const</span> myTotal <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token comment">// \u6BCF\u9875\u6761\u6570</span>
    <span class="token keyword">const</span> myPageSize <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
    <span class="token comment">// \u5F53\u524D\u7B2C\u51E0\u9875</span>
    <span class="token keyword">const</span> myCurrentPage <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token comment">// \u6309\u94AE\u4E2A\u6570</span>
    <span class="token keyword">const</span> btnCount <span class="token operator">=</span> <span class="token number">5</span>

    <span class="token comment">// \u91CD\u70B9\uFF1A\u6839\u636E\u4E0A\u8FF0\u6570\u636E\u5F97\u5230\uFF08\u603B\u9875\u6570\uFF0C\u8D77\u59CB\u9875\u7801\uFF0C\u7ED3\u675F\u9875\u7801\uFF0C\u6309\u94AE\u6570\u7EC4\uFF09</span>
    <span class="token keyword">const</span> pager <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8BA1\u7B97\u603B\u9875\u6570</span>
      <span class="token keyword">const</span> pageCount <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>myTotal<span class="token punctuation">.</span>value <span class="token operator">/</span> myPageSize<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token comment">// \u8BA1\u7B97\u8D77\u59CB\u9875\u7801\u548C\u7ED3\u675F\u9875\u7801</span>
      <span class="token comment">// 1. \u7406\u60F3\u60C5\u51B5\u6839\u636E\u5F53\u524D\u9875\u7801\uFF0C\u548C\u6309\u94AE\u4E2A\u6570\u53EF\u5F97\u5230</span>
      <span class="token keyword">let</span> start <span class="token operator">=</span> myCurrentPage<span class="token punctuation">.</span>value <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>btnCount <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span>
      <span class="token keyword">let</span> end <span class="token operator">=</span> start <span class="token operator">+</span> btnCount <span class="token operator">-</span> <span class="token number">1</span>
      <span class="token comment">// 2.1 \u5982\u679C\u8D77\u59CB\u9875\u7801\u5C0F\u4E8E1\u4E86\uFF0C\u9700\u8981\u91CD\u65B0\u8BA1\u7B97</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>start <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        start <span class="token operator">=</span> <span class="token number">1</span>
        end <span class="token operator">=</span> <span class="token punctuation">(</span>start <span class="token operator">+</span> btnCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> pageCount <span class="token operator">?</span> pageCount <span class="token operator">:</span> <span class="token punctuation">(</span>start <span class="token operator">+</span> btnCount <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 2.2 \u5982\u679C\u7ED3\u675F\u9875\u7801\u5927\u4E8E\u603B\u9875\u6570\uFF0C\u9700\u8981\u91CD\u65B0\u8BA1\u7B97</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>end <span class="token operator">&gt;</span> pageCount<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        end <span class="token operator">=</span> pageCount
        start <span class="token operator">=</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> btnCount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> btnCount <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// \u5904\u7406\u5B8C\u6BD5start\u548Cend\u5F97\u5230\u6309\u94AE\u6570\u7EC4</span>
      <span class="token keyword">const</span> btnArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> start<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> end<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        btnArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span> pageCount<span class="token punctuation">,</span> start<span class="token punctuation">,</span> end<span class="token punctuation">,</span> btnArr <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> pager<span class="token punctuation">,</span> myCurrentPage<span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><p>2\uFF09\u8FDB\u884C\u6E32\u67D3</p><div class="language-vue line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myCurrentPage &lt;= 1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4E0A\u4E00\u9875<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">v-else</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4E0A\u4E00\u9875<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pager.start &gt; 1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: i === myCurrentPage }<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i in pager.btnArr<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>i<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>{{i}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pager.end &lt; pager.pageCount<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span>
  <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>myCurrentPage &gt;= pager.pageCount<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>disabled<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">&gt;</span></span>\u4E0B\u4E00\u9875<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">v-else</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript:;<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>\u4E0B\u4E00\u9875<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>3\uFF09\u5207\u6362\u6548\u679C</p><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;div class=&quot;xtx-pagination&quot;&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;a v-if=&quot;myCurrentPage&lt;=1&quot; href=&quot;javascript:;&quot; class=&quot;disabled&quot;&gt;\u4E0A\u4E00\u9875&lt;/a&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    &lt;a @click=&quot;changePage(myCurrentPage-1)&quot; v-else href=&quot;javascript:;&quot;&gt;\u4E0A\u4E00\u9875&lt;/a&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;span v-if=&quot;pager.start&gt;1&quot;&gt;...&lt;/span&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    &lt;a @click=&quot;changePage(i)&quot; href=&quot;javascript:;&quot; :class=&quot;{active:i===myCurrentPage}&quot; v-for=&quot;i in pager.btnArr&quot; :key=&quot;i&quot;&gt;{{i}}&lt;/a&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &lt;span v-if=&quot;pager.end&lt;pager.pageCount&quot;&gt;...&lt;/span&gt;
</span><span class="token prefix unchanged"> </span><span class="token line">   &lt;a v-if=&quot;myCurrentPage&gt;=pager.pageCount&quot; href=&quot;javascript:;&quot; class=&quot;disabled&quot;&gt;\u4E0B\u4E00\u9875&lt;/a&gt;
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    &lt;a @click=&quot;changePage(myCurrentPage+1)&quot; v-else href=&quot;javascript:;&quot;&gt;\u4E0B\u4E00\u9875&lt;/a&gt;
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &lt;/div&gt;
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u6539\u53D8\u9875\u7801</span>
<span class="token keyword">const</span> <span class="token function-variable function">changePage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">newPage</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  myCurrentPage<span class="token punctuation">.</span>value <span class="token operator">=</span> newPage<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">return</span> <span class="token punctuation">{</span> pager<span class="token punctuation">,</span> myCurrentPage<span class="token punctuation">,</span> changePage <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>\u63A5\u6536\u5916\u90E8\u6570\u636E\uFF0C\u63D0\u4F9B\u5206\u9875\u4E8B\u4EF6\u3002</li></ul><div class="language-js line-numbers-mode"><pre><code>  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">100</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">currentPage</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">pageSize</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">10</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u76D1\u542C\u4F20\u4EBA\u7684\u503C\u6539\u53D8</span>
<span class="token function">watch</span><span class="token punctuation">(</span>
  props<span class="token punctuation">,</span>
  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    myTotal<span class="token punctuation">.</span>value <span class="token operator">=</span> props<span class="token punctuation">.</span>total<span class="token punctuation">;</span>
    myPageSize<span class="token punctuation">.</span>value <span class="token operator">=</span> props<span class="token punctuation">.</span>pageSize<span class="token punctuation">;</span>
    myCurrentPage<span class="token punctuation">.</span>value <span class="token operator">=</span> props<span class="token punctuation">.</span>currentPage<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span> <span class="token literal-property property">immediate</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u6539\u53D8\u9875\u7801</span>
<span class="token keyword">const</span> <span class="token function-variable function">changePage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">newPage</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>myCurrentPage<span class="token punctuation">.</span>value <span class="token operator">!==</span> newPage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    myCurrentPage<span class="token punctuation">.</span>value <span class="token operator">=</span> newPage<span class="token punctuation">;</span>
    <span class="token comment">// \u901A\u77E5\u7236\u7EC4\u4EF6\u6700\u65B0\u9875\u7801</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;current-change&quot;</span><span class="token punctuation">,</span> newPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u6700\u540E\u4F7F\u7528\u7EC4\u4EF6\uFF1A</p><div class="language-diff line-numbers-mode"><pre><code><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   // \u8BB0\u5F55\u603B\u6761\u6570
</span></span>	const commentList = ref([])
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">   const total = ref(0)
</span></span>	watch(reqParams, async () =&gt; {
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">     const data = await findCommentListByGoods(props.goods.id, reqParams)
</span><span class="token prefix unchanged"> </span><span class="token line">     commentList.value = data.result
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      total.value = data.result.counts
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   }, { immediate: true })
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-js line-numbers-mode"><pre><code><span class="token comment">// \u6539\u53D8\u5206\u9875\u51FD\u6570</span>
<span class="token keyword">const</span> <span class="token function-variable function">changePager</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">np</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  reqParams<span class="token punctuation">.</span>page <span class="token operator">=</span> np<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> <span class="token punctuation">{</span>
  commentInfo<span class="token punctuation">,</span>
  currTagIndex<span class="token punctuation">,</span>
  changeTag<span class="token punctuation">,</span>
  reqParams<span class="token punctuation">,</span>
  changeSort<span class="token punctuation">,</span>
  commentList<span class="token punctuation">,</span>
  total<span class="token punctuation">,</span>
  changePager<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><div class="language-vue line-numbers-mode"><pre><code><span class="token comment">&lt;!-- \u5206\u9875 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>XtxPagination</span>
  <span class="token attr-name">@current-change</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>changePager<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:total</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name">:current-page</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>reqParams.page<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u7B5B\u9009\u548C\u6392\u5E8F\u6539\u53D8\u540E\u9875\u7801\u56DE\u5230\u7B2C\u4E00\u9875\uFF1A</p><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   // \u6539\u53D8\u6392\u5E8F
</span><span class="token prefix unchanged"> </span><span class="token line">   const changeSort = (type) =&gt; {
</span><span class="token prefix unchanged"> </span><span class="token line">     reqParams.sortField = type
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      reqParams.page = 1
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><div class="language-diff line-numbers-mode"><pre><code><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   const changeTag = (i) =&gt; {
</span><span class="token prefix unchanged"> </span><span class="token line">     currTagIndex.value = i
</span><span class="token prefix unchanged"> </span><span class="token line">     // \u8BBE\u7F6E\u6709\u56FE\u548C\u6807\u7B7E\u6761\u4EF6
</span><span class="token prefix unchanged"> </span><span class="token line">     const currTag = commentInfo.value.tags[i]
</span><span class="token prefix unchanged"> </span><span class="token line">     if (currTag.type === &#39;all&#39;) {
</span><span class="token prefix unchanged"> </span><span class="token line">       reqParams.hasPicture = false
</span><span class="token prefix unchanged"> </span><span class="token line">       reqParams.tag = null
</span><span class="token prefix unchanged"> </span><span class="token line">     } else if (currTag.type === &#39;img&#39;) {
</span><span class="token prefix unchanged"> </span><span class="token line">       reqParams.hasPicture = true
</span><span class="token prefix unchanged"> </span><span class="token line">       reqParams.tag = null
</span><span class="token prefix unchanged"> </span><span class="token line">     } else {
</span><span class="token prefix unchanged"> </span><span class="token line">       reqParams.hasPicture = false
</span><span class="token prefix unchanged"> </span><span class="token line">       reqParams.tag = currTag.title
</span><span class="token prefix unchanged"> </span><span class="token line">     }
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      reqParams.page = 1
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   }
</span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>\u4F18\u5316\uFF1A\u6709\u6761\u6570\u624D\u663E\u793A\u5206\u9875</p><div class="language-html line-numbers-mode"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>xtx-pagination<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>total&gt;0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div>`,378),I=[j];function G(_,S,X,z,N,L){return a(),s("div",null,I)}var R=n(P,[["render",G]]);export{D as __pageData,R as default};
